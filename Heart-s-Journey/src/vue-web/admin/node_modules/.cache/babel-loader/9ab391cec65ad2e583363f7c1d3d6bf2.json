{"remainingRequest":"/Users/robin/Desktop/Heart'sJourney/vue-web/admin/node_modules/babel-loader/lib/index.js!/Users/robin/Desktop/Heart'sJourney/vue-web/admin/src/utils/http.js","dependencies":[{"path":"/Users/robin/Desktop/Heart'sJourney/vue-web/admin/src/utils/http.js","mtime":1736245629000},{"path":"/Users/robin/Desktop/Heart'sJourney/vue-web/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/robin/Desktop/Heart'sJourney/vue-web/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXIvcm91dGVyLXN0YXRpYyc7CmltcG9ydCBzdG9yYWdlIGZyb20gJ0AvdXRpbHMvc3RvcmFnZSc7CmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXVpJzsKdmFyIGh0dHAgPSBheGlvcy5jcmVhdGUoewogIHRpbWVvdXQ6IDEwMDAgKiA4NjQwMCwKICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsCiAgYmFzZVVSTDogJy9Qc3ljaENhcGl0YWxJbXByb3ZlU3lzdGVtJywKICBoZWFkZXJzOiB7CiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnCiAgfQp9KTsgLy8g6K+35rGC5oum5oiqCgpodHRwLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgY29uZmlnLmhlYWRlcnNbJ1Rva2VuJ10gPSBzdG9yYWdlLmdldCgnVG9rZW4nKTsgLy8g6K+35rGC5aS05bim5LiKdG9rZW4KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIOWTjeW6lOaLpuaIqgoKaHR0cC5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIGlmIChyZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gNDAxKSB7CiAgICAvLyA0MDEsIHRva2Vu5aSx5pWICiAgICBNZXNzYWdlLmVycm9yKCfor7flhYjnmbvlvZUnKTsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ2xvZ2luJwogICAgICB9KTsKICAgIH0sIDEwMDApOwogIH0KCiAgcmV0dXJuIHJlc3BvbnNlOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgaHR0cDs="},{"version":3,"sources":["/Users/robin/Desktop/Heart'sJourney/vue-web/admin/src/utils/http.js"],"names":["axios","router","storage","Message","http","create","timeout","withCredentials","baseURL","headers","interceptors","request","use","config","get","error","Promise","reject","response","data","code","setTimeout","push","name"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AACA,SAAQC,OAAR,QAAsB,YAAtB;AAEA,IAAMC,IAAI,GAAGJ,KAAK,CAACK,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAE,OAAO,KADS;AAEzBC,EAAAA,eAAe,EAAE,IAFQ;AAGzBC,EAAAA,OAAO,EAAE,4BAHgB;AAIzBC,EAAAA,OAAO,EAAE;AACR,oBAAgB;AADR;AAJgB,CAAb,CAAb,C,CAQA;;AACAL,IAAI,CAACM,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CAA8B,UAAAC,MAAM,EAAI;AACvCA,EAAAA,MAAM,CAACJ,OAAP,CAAe,OAAf,IAA0BP,OAAO,CAACY,GAAR,CAAY,OAAZ,CAA1B,CADuC,CACQ;;AAC/C,SAAOD,MAAP;AACA,CAHD,EAGG,UAAAE,KAAK,EAAI;AACX,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACA,CALD,E,CAMA;;AACAX,IAAI,CAACM,YAAL,CAAkBQ,QAAlB,CAA2BN,GAA3B,CAA+B,UAAAM,QAAQ,EAAI;AAC1C,MAAIA,QAAQ,CAACC,IAAT,IAAiBD,QAAQ,CAACC,IAAT,CAAcC,IAAd,KAAuB,GAA5C,EAAiD;AAAE;AAClDjB,IAAAA,OAAO,CAACY,KAAR,CAAc,MAAd;AACAM,IAAAA,UAAU,CAAC,YAAI;AACdpB,MAAAA,MAAM,CAACqB,IAAP,CAAY;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAZ;AACA,KAFS,EAER,IAFQ,CAAV;AAGA;;AACD,SAAOL,QAAP;AACA,CARD,EAQG,UAAAH,KAAK,EAAI;AACX,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACA,CAVD;AAWA,eAAeX,IAAf","sourcesContent":["import axios from 'axios'\r\nimport router from '@/router/router-static'\r\nimport storage from '@/utils/storage'\r\nimport {Message} from 'element-ui'\r\n\r\nconst http = axios.create({\r\n\ttimeout: 1000 * 86400,\r\n\twithCredentials: true,\r\n\tbaseURL: '/PsychCapitalImproveSystem',\r\n\theaders: {\r\n\t\t'Content-Type': 'application/json; charset=utf-8'\r\n\t}\r\n})\r\n// 请求拦截\r\nhttp.interceptors.request.use(config => {\r\n\tconfig.headers['Token'] = storage.get('Token') // 请求头带上token\r\n\treturn config\r\n}, error => {\r\n\treturn Promise.reject(error)\r\n})\r\n// 响应拦截\r\nhttp.interceptors.response.use(response => {\r\n\tif (response.data && response.data.code === 401) { // 401, token失效\r\n\t\tMessage.error('请先登录')\r\n\t\tsetTimeout(()=>{\r\n\t\t\trouter.push({ name: 'login' })\r\n\t\t},1000)\r\n\t}\r\n\treturn response\r\n}, error => {\r\n\treturn Promise.reject(error)\r\n})\r\nexport default http"]}]}