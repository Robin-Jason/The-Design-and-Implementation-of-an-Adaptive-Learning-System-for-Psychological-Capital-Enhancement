{"remainingRequest":"/Users/robin/Desktop/毕业设计/推荐系统/vue-web/admin/node_modules/babel-loader/lib/index.js!/Users/robin/Desktop/毕业设计/推荐系统/vue-web/admin/src/utils/utils.js","dependencies":[{"path":"/Users/robin/Desktop/毕业设计/推荐系统/vue-web/admin/src/utils/utils.js","mtime":1736155371000},{"path":"/Users/robin/Desktop/毕业设计/推荐系统/vue-web/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/robin/Desktop/毕业设计/推荐系统/vue-web/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0IHN0b3JhZ2UgZnJvbSAnLi9zdG9yYWdlJzsKaW1wb3J0IG1lbnUgZnJvbSAnLi9tZW51JzsKLyoqDQogKiDmmK/lkKbmnInmnYPpmZANCiAqIEBwYXJhbSB7Kn0ga2V5DQogKi8KCmV4cG9ydCBmdW5jdGlvbiBpc0F1dGgodGFibGVOYW1lLCBrZXkpIHsKICB2YXIgcm9sZSA9IHN0b3JhZ2UuZ2V0KCJyb2xlIik7CgogIGlmICghcm9sZSkgewogICAgcm9sZSA9ICfnrqHnkIblkZgnOwogIH0KCiAgdmFyIG1lbnVzID0gbWVudS5saXN0KCk7CgogIGZvciAodmFyIGkgPSAwOyBpIDwgbWVudXMubGVuZ3RoOyBpKyspIHsKICAgIGlmIChtZW51c1tpXS5yb2xlTmFtZSA9PSByb2xlKSB7CiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWVudXNbaV0uYmFja01lbnUubGVuZ3RoOyBqKyspIHsKICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IG1lbnVzW2ldLmJhY2tNZW51W2pdLmNoaWxkLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICBpZiAodGFibGVOYW1lID09IG1lbnVzW2ldLmJhY2tNZW51W2pdLmNoaWxkW2tdLnRhYmxlTmFtZSkgewogICAgICAgICAgICB2YXIgYnV0dG9ucyA9IG1lbnVzW2ldLmJhY2tNZW51W2pdLmNoaWxkW2tdLmJ1dHRvbnMuam9pbignLCcpOwogICAgICAgICAgICByZXR1cm4gYnV0dG9ucy5pbmRleE9mKGtleSkgIT09IC0xIHx8IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KCiAgcmV0dXJuIGZhbHNlOwp9Ci8qKg0KICogICog6I635Y+W5b2T5YmN5pe26Ze077yIeXl5eS1NTS1kZCBoaDptbTpzc++8iQ0KICogICAqLwoKZXhwb3J0IGZ1bmN0aW9uIGdldEN1ckRhdGVUaW1lKCkgewogIHZhciBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCksCiAgICAgIHllYXIgPSBjdXJyZW50VGltZS5nZXRGdWxsWWVhcigpLAogICAgICBtb250aCA9IGN1cnJlbnRUaW1lLmdldE1vbnRoKCkgKyAxIDwgMTAgPyAnMCcgKyAoY3VycmVudFRpbWUuZ2V0TW9udGgoKSArIDEpIDogY3VycmVudFRpbWUuZ2V0TW9udGgoKSArIDEsCiAgICAgIGRheSA9IGN1cnJlbnRUaW1lLmdldERhdGUoKSA8IDEwID8gJzAnICsgY3VycmVudFRpbWUuZ2V0RGF0ZSgpIDogY3VycmVudFRpbWUuZ2V0RGF0ZSgpLAogICAgICBob3VyID0gY3VycmVudFRpbWUuZ2V0SG91cnMoKSwKICAgICAgbWludXRlID0gY3VycmVudFRpbWUuZ2V0TWludXRlcygpLAogICAgICBzZWNvbmQgPSBjdXJyZW50VGltZS5nZXRTZWNvbmRzKCk7CiAgcmV0dXJuIHllYXIgKyAiLSIgKyBtb250aCArICItIiArIGRheSArICIgIiArIGhvdXIgKyAiOiIgKyBtaW51dGUgKyAiOiIgKyBzZWNvbmQ7Cn0KLyoqDQogKiAgKiDojrflj5blvZPliY3ml6XmnJ/vvIh5eXl5LU1NLWRk77yJDQogKiAgICovCgpleHBvcnQgZnVuY3Rpb24gZ2V0Q3VyRGF0ZSgpIHsKICB2YXIgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpLAogICAgICB5ZWFyID0gY3VycmVudFRpbWUuZ2V0RnVsbFllYXIoKSwKICAgICAgbW9udGggPSBjdXJyZW50VGltZS5nZXRNb250aCgpICsgMSA8IDEwID8gJzAnICsgKGN1cnJlbnRUaW1lLmdldE1vbnRoKCkgKyAxKSA6IGN1cnJlbnRUaW1lLmdldE1vbnRoKCkgKyAxLAogICAgICBkYXkgPSBjdXJyZW50VGltZS5nZXREYXRlKCkgPCAxMCA/ICcwJyArIGN1cnJlbnRUaW1lLmdldERhdGUoKSA6IGN1cnJlbnRUaW1lLmdldERhdGUoKTsKICByZXR1cm4geWVhciArICItIiArIG1vbnRoICsgIi0iICsgZGF5Owp9"},{"version":3,"sources":["/Users/robin/Desktop/毕业设计/推荐系统/vue-web/admin/src/utils/utils.js"],"names":["storage","menu","isAuth","tableName","key","role","get","menus","list","i","length","roleName","j","backMenu","k","child","buttons","join","indexOf","getCurDateTime","currentTime","Date","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minute","getMinutes","second","getSeconds","getCurDate"],"mappings":"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","sourcesContent":["import storage from './storage';\r\nimport menu from './menu';\r\n/**\r\n * 是否有权限\r\n * @param {*} key\r\n */\r\nexport function isAuth(tableName,key) {\r\n\tlet role = storage.get(\"role\");\r\n\tif(!role){\r\n\t\trole = '管理员';\r\n\t}\r\n\tlet menus = menu.list();\r\n\tfor(let i=0;i<menus.length;i++){\r\n\t\tif(menus[i].roleName==role){\r\n\t\t\tfor(let j=0;j<menus[i].backMenu.length;j++){\r\n\t\t\t\tfor(let k=0;k<menus[i].backMenu[j].child.length;k++){\r\n\t\t\t\t\tif(tableName==menus[i].backMenu[j].child[k].tableName){\r\n\t\t\t\t\t\tlet buttons = menus[i].backMenu[j].child[k].buttons.join(',');\r\n\t\t\t\t\t\treturn buttons.indexOf(key) !== -1 || false\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\n/**\r\n *  * 获取当前时间（yyyy-MM-dd hh:mm:ss）\r\n *   */\r\nexport function getCurDateTime() {\r\n\tlet currentTime = new Date(),\r\n\tyear = currentTime.getFullYear(),\r\n\tmonth = currentTime.getMonth() + 1 < 10 ? '0' + (currentTime.getMonth() + 1) : currentTime.getMonth() + 1,\r\n\tday = currentTime.getDate() < 10 ? '0' + currentTime.getDate() : currentTime.getDate(),\r\n\thour = currentTime.getHours(),\r\n\tminute = currentTime.getMinutes(),\r\n\tsecond = currentTime.getSeconds();\r\n\treturn year + \"-\" + month + \"-\" + day + \" \" +hour +\":\" +minute+\":\"+second;\r\n}\r\n\r\n/**\r\n *  * 获取当前日期（yyyy-MM-dd）\r\n *   */\r\nexport function getCurDate() {\r\n\tlet currentTime = new Date(),\r\n\tyear = currentTime.getFullYear(),\r\n\tmonth = currentTime.getMonth() + 1 < 10 ? '0' + (currentTime.getMonth() + 1) : currentTime.getMonth() + 1,\r\n\tday = currentTime.getDate() < 10 ? '0' + currentTime.getDate() : currentTime.getDate();\r\n\treturn year + \"-\" + month + \"-\" + day;\r\n}\r\n\r\n"]}]}