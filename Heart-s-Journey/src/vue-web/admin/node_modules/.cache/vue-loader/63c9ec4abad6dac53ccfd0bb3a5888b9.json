{"remainingRequest":"/Users/robin/Desktop/Heart'sJourney/vue-web/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/robin/Desktop/Heart'sJourney/vue-web/admin/src/views/modules/examquestion/question-add-or-update.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/robin/Desktop/Heart'sJourney/vue-web/admin/src/views/modules/examquestion/question-add-or-update.vue","mtime":1736325557000},{"path":"/Users/robin/Desktop/Heart'sJourney/vue-web/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/robin/Desktop/Heart'sJourney/vue-web/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/robin/Desktop/Heart'sJourney/vue-web/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/robin/Desktop/Heart'sJourney/vue-web/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGlzTnVtYmVyIH0gZnJvbSAiQC91dGlscy92YWxpZGF0ZSI7CmV4cG9ydCBkZWZhdWx0IHsKCWRhdGEoKSB7CgkJdmFyIHZhbGlkYXRlTnVtYmVyID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewoJCQlpZiAoIWlzTnVtYmVyKHZhbHVlKSkgewoJCQkJY2FsbGJhY2sobmV3IEVycm9yKCLor7fovpPlhaXmlbDlrZciKSk7CgkJCX0gZWxzZSB7CgkJCQljYWxsYmFjaygpOwoJCQl9CgkJfTsKCQlyZXR1cm4gewoJCQlydWxlRm9ybToge30sCgkJCW9wdGlvbnM6IFtdLAoJCQlhZGRPcHRpb25zRGlhbG9nVmlzaWFibGU6IGZhbHNlLAoJCQlkaWFsb2dGb3JtOiB7fSwKCQkJcGFwZXJPcHRpb25zOiBbXSwKCQkJZGlhbG9nUnVsZXM6IHsKCQkJCXRleHQ6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+35aGr5YaZ5YaF5a65IiwgdHJpZ2dlcjogImJsdXIiIH1dLAoJCQkJY29kZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fpgInmi6npgInpobkiLCB0cmlnZ2VyOiAiYmx1ciIgfV0sCgkJCQlzY29yZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaXliIbmlbAiLCB0cmlnZ2VyOiAiYmx1ciIgfV0KCQkJfSwKCQkJcnVsZXM6IHsKCQkJCXBhcGVyaWQ6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oup5b+D55CG5rWL6K+VIiwgdHJpZ2dlcjogImJsdXIiIH1dLAoJCQkJcXVlc3Rpb25uYW1lOiBbCgkJCQkJeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivlemimOWGheWuueS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9CgkJCQldLAoJCQkJdHlwZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fpgInmi6nor5XpopjnsbvlnosiLCB0cmlnZ2VyOiAiYmx1ciIgfV0sCgkJCQlzZXF1ZW5jZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLmjpLluo/kuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiYmx1ciIgfV0sCgkJCQlhbmFseXNpczogWwoJCQkJCXsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLliIbmnpDkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiYmx1ciIgfQoJCQkJXSwKCQkJCXNjb3JlOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuWIhuaVsOS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9XQoJCQl9LAoJCQllZGl0SW5kZXg6IC0xCgkJfTsKCX0sCglwcm9wczogWyJwYXJlbnQiXSwKCW1ldGhvZHM6IHsKCQkvLyDliJ3lp4vljJYKCQlpbml0KGlkKSB7CgkJCWlmIChpZCkgewoJCQkJdGhpcy5pbmZvKGlkKTsKCQkJfSBlbHNlIHsKCQkJCXRoaXMuJGh0dHAoewoJCQkJCXVybDogdGhpcy4kYXBpLmV4YW1wYXBlcnBhZ2UsCgkJCQkJbWV0aG9kOiAiZ2V0IiwKCQkJCQlwYXJhbXM6IHsKCQkJCQkJcGFnZTogMSwKCQkJCQkJbGltaXQ6IDk5OQoJCQkJCX0KCQkJCX0pLnRoZW4oKHsgZGF0YSB9KSA9PiB7CgkJCQkJaWYgKGRhdGEgJiYgZGF0YS5jb2RlID09PSAwKSB7CgkJCQkJCXRoaXMucGFwZXJPcHRpb25zID0gZGF0YS5kYXRhLmxpc3Q7CgkJCQkJfQoJCQkJfSk7CgkJCQl0aGlzLnJ1bGVGb3JtLmNyZWF0ZWQgPSBuZXcgRGF0ZSgpOwoJCQl9CgkJfSwKCQlpbmZvKGlkKSB7CgkJCXRoaXMuJGh0dHAoewoJCQkJdXJsOiB0aGlzLiRhcGkuZXhhbXBhcGVycGFnZSwKCQkJCW1ldGhvZDogImdldCIsCgkJCQlwYXJhbXM6IHsKCQkJCQlwYWdlOiAxLAoJCQkJCWxpbWl0OiA5OTkKCQkJCX0KCQkJfSkudGhlbigoeyBkYXRhIH0pID0+IHsKCQkJCWlmIChkYXRhICYmIGRhdGEuY29kZSA9PT0gMCkgewoJCQkJCXRoaXMucGFwZXJPcHRpb25zID0gZGF0YS5kYXRhLmxpc3Q7CgkJCQkJdGhpcy4kaHR0cCh7CgkJCQkJCXVybDogYCR7dGhpcy4kYXBpLmV4YW1xdWVzdGlvbmluZm99JHtpZH1gLAoJCQkJCQltZXRob2Q6ICJnZXQiCgkJCQkJfSkudGhlbigoeyBkYXRhIH0pID0+IHsKCQkJCQkJaWYgKGRhdGEgJiYgZGF0YS5jb2RlID09PSAwKSB7CgkJCQkJCQl0aGlzLnJ1bGVGb3JtID0gZGF0YS5kYXRhOwoJCQkJCQkJdGhpcy5ydWxlRm9ybS50eXBlID0gdGhpcy5ydWxlRm9ybS50eXBlICsgIiI7CgkJCQkJCQl0aGlzLm9wdGlvbnMgPSBKU09OLnBhcnNlKHRoaXMucnVsZUZvcm0ub3B0aW9ucyk7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQl0aGlzLiRtZXNzYWdlLmVycm9yKGRhdGEubXNnKTsKCQkJCQkJfQoJCQkJCX0pOwoJCQkJfQoJCQl9KTsKCQl9LAoJCS8vIOaPkOS6pAoJCW9uU3VibWl0KCkgewoJCQlpZiAoIXRoaXMub3B0aW9ucyAmJiB0aGlzLnR5cGUgIT0gMykgewoJCQkJdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+36K6+572u6YCJ6aG5Iik7CgkJCQlyZXR1cm47CgkJCX0KCQkJdGhpcy5ydWxlRm9ybS5vcHRpb25zID0gSlNPTi5zdHJpbmdpZnkodGhpcy5vcHRpb25zKTsKCQkJdGhpcy4kcmVmc1sicnVsZUZvcm0iXS52YWxpZGF0ZSh2YWxpZCA9PiB7CgkJCQlpZiAodmFsaWQpIHsKCQkJCQl0aGlzLiRodHRwKHsKCQkJCQkJdXJsOiBgJHsKCQkJCQkJCSF0aGlzLnJ1bGVGb3JtLmlkCgkJCQkJCQk/IGAke3RoaXMuJGFwaS5leGFtcXVlc3Rpb25zYXZlfWAKCQkJCQkJCTogYCR7dGhpcy4kYXBpLmV4YW1xdWVzdGlvbnVwZGF0ZX1gCgkJCQkJCX1gLAoJCQkJCQltZXRob2Q6ICJwb3N0IiwKCQkJCQkJZGF0YTogdGhpcy5ydWxlRm9ybQoJCQkJCX0pLnRoZW4oKHsgZGF0YSB9KSA9PiB7CgkJCQkJCWlmIChkYXRhICYmIGRhdGEuY29kZSA9PT0gMCkgewoJCQkJCQkJdGhpcy4kbWVzc2FnZSh7CgkJCQkJCQkJbWVzc2FnZTogIuaTjeS9nOaIkOWKnyIsCgkJCQkJCQkJdHlwZTogInN1Y2Nlc3MiLAoJCQkJCQkJCWR1cmF0aW9uOiAxNTAwLAoJCQkJCQkJCW9uQ2xvc2U6ICgpID0+IHsKCQkJCQkJCQkJdGhpcy5wYXJlbnQuc2hvd0ZsYWcgPSBmYWxzZTsKCQkJCQkJCQkJdGhpcy5wYXJlbnQuc2VhcmNoKCk7CgkJCQkJCQkJfQoJCQkJCQkJfSk7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQl0aGlzLiRtZXNzYWdlLmVycm9yKGRhdGEubXNnKTsKCQkJCQkJfQoJCQkJCX0pOwoJCQkJfQoJCQl9KTsKCQl9LAoJCS8vIOi/lOWbngoJCWJhY2soKSB7CgkJCXRoaXMucGFyZW50LnNob3dGbGFnID0gZmFsc2U7CgkJfSwKCQkvLyDmlrDlop7pgInpobnlvLnnqpcKCQlhZGRPcHRpb25zRGlhbG9nKCkgewoJCQl0aGlzLmFkZE9wdGlvbnNEaWFsb2dWaXNpYWJsZSA9ICF0aGlzLmFkZE9wdGlvbnNEaWFsb2dWaXNpYWJsZTsKCQl9LAoJCS8vIOaWsOWinumAiemhuQoJCWFkZE9wdGlvbnMoKSB7CgkJCXRoaXMuJHJlZnNbImRpYWxvZ0Zvcm0iXS52YWxpZGF0ZSh2YWxpZCA9PiB7CgkJCQlpZiAodmFsaWQpIHsKCQkJCQlpZih0aGlzLmVkaXRJbmRleCA9PSAtMSl7CgkJCQkJCXRoaXMub3B0aW9ucy5wdXNoKHsKCQkJCQkJCXRleHQ6IHRoaXMuZGlhbG9nRm9ybS5jb2RlICsgIi4iICsgdGhpcy5kaWFsb2dGb3JtLnRleHQsCgkJCQkJCQljb2RlOiB0aGlzLmRpYWxvZ0Zvcm0uY29kZSwKCQkJCQkJCXNjb3JlOiB0aGlzLmRpYWxvZ0Zvcm0uc2NvcmUKCQkJCQkJfSk7CgkJICAKCQkJCQl9ZWxzZXsKCQkJCQkJdGhpcy5vcHRpb25zW3RoaXMuZWRpdEluZGV4XSA9IHsKCQkJCQkJCXRleHQ6IHRoaXMuZGlhbG9nRm9ybS5jb2RlICsgIi4iICsgdGhpcy5kaWFsb2dGb3JtLnRleHQsCgkJCQkJCQljb2RlOiB0aGlzLmRpYWxvZ0Zvcm0uY29kZSwKCQkJCQkJCXNjb3JlOiB0aGlzLmRpYWxvZ0Zvcm0uc2NvcmUKCQkJCQkJfQoJCQkJCX0KCQkJCQl0aGlzLmRpYWxvZ0Zvcm0gPSB7fTsKCQkJCQl0aGlzLmFkZE9wdGlvbnNEaWFsb2dWaXNpYWJsZSA9ICF0aGlzLmFkZE9wdGlvbnNEaWFsb2dWaXNpYWJsZTsKCQkJCQl0aGlzLmVkaXRJbmRleCA9IC0xCgkJCQl9CgkJCX0pOwoJCX0sCgkJLy8g5L+u5pS56YCJ6aG5CgkJZWRpdE9wdGlvbnMoaW5kZXgpIHsKCQkJdGhpcy5lZGl0SW5kZXggPSBpbmRleAoJCQlsZXQgYXJyID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLm9wdGlvbnNbaW5kZXhdKSkKCQkJYXJyLnRleHQgPSBhcnIudGV4dC5zcGxpdChgJHthcnIuY29kZX0uYClbMV0KCQkJdGhpcy5kaWFsb2dGb3JtID0gYXJyCgkJCXRoaXMuYWRkT3B0aW9uc0RpYWxvZ1Zpc2lhYmxlID0gIXRoaXMuYWRkT3B0aW9uc0RpYWxvZ1Zpc2lhYmxlOwoJCX0sCgkJLy8g5Yig6Zmk6YCJ6aG5CgkJZGVsZXRlT3B0aW9ucyhpbmRleCkgewoJCQl0aGlzLm9wdGlvbnMuc3BsaWNlKGluZGV4LCAxKTsKCQl9LAoJCW9uUGFwZXJDaGFuZ2UoZSkgewoJCQlmb3IgKGxldCBpdGVtIG9mIHRoaXMucGFwZXJPcHRpb25zKSB7CgkJCQlpZiAoaXRlbS5pZCA9PSBlKSB7CgkJCQkJdGhpcy5ydWxlRm9ybS5wYXBlcm5hbWUgPSBpdGVtLm5hbWU7CgkJCQl9CgkJCX0KCQl9LAoJCS8vIOaYr+WQpuacieebuOWQjOmAiemhuQoJCWNoYW5nZUNvZGUoaW5kZXgpIHsKCQkJZm9yIChsZXQgeCBpbiB0aGlzLm9wdGlvbnMpIHsKCQkJCWlmICh0aGlzLm9wdGlvbnNbeF0uY29kZSA9PSBpbmRleCkgewoJCQkJCXJldHVybiB0cnVlCgkJCQl9CgkJCX0KCQkJcmV0dXJuIGZhbHNlCgkJfSwKCQl0eXBlQ2hhbmdlKGUpIHsKCQl9LAoJfQp9Owo="},{"version":3,"sources":["question-add-or-update.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"question-add-or-update.vue","sourceRoot":"src/views/modules/examquestion","sourcesContent":["<template>\r\n\t<div :style='{\"width\":\"100%\",\"padding\":\"20px 30px\",\"fontSize\":\"15px\"}'>\r\n\t\t<el-form\r\n\t\t\t:style='{\"padding\":\"40px 25% 40px 18%\",\"borderColor\":\"#eee\",\"borderRadius\":\"10px\",\"borderStyle\":\"solid\",\"borderWidth\":\"1px\",\"background\":\"#ffffff\"}'\r\n\t\t\tclass=\"add-update-preview\"\r\n\t\t\tref=\"ruleForm\"\r\n\t\t\t:model=\"ruleForm\"\r\n\t\t\t:rules=\"rules\"\r\n\t\t\tlabel-width=\"180px\"\r\n\t\t>\r\n\t\t\t<el-form-item :style='{\"border\":\"0px solid #eee\",\"width\":\"100%\",\"padding\":\"0\",\"margin\":\"0 0 22px 0\",\"display\":\"inline-block\"}' label=\"选择心理测试\" prop=\"paperid\">\r\n\t\t\t\t<el-select @change=\"onPaperChange\" v-model=\"ruleForm.paperid\" placeholder=\"选择心理测试\">\r\n\t\t\t\t\t<el-option\r\n\t\t\t\t\t\tv-for=\"(item,index) in paperOptions\"\r\n\t\t\t\t\t\tv-bind:key=\"index\"\r\n\t\t\t\t\t\t:label=\"item.name\"\r\n\t\t\t\t\t\t:value=\"item.id\"\r\n\t\t\t\t\t></el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"border\":\"0px solid #eee\",\"width\":\"100%\",\"padding\":\"0\",\"margin\":\"0 0 22px 0\",\"display\":\"inline-block\"}' label=\"试题\" prop=\"questionname\">\r\n\t\t\t\t<editor\r\n\t\t\t\t\tstyle=\"min-width: 200px; max-width: 600px;\"\r\n\t\t\t\t\tv-model=\"ruleForm.questionname\" \r\n\t\t\t\t\tclass=\"editor\" \r\n\t\t\t\t\taction=\"file/upload\">\r\n\t\t\t\t</editor>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"border\":\"0px solid #eee\",\"width\":\"100%\",\"padding\":\"0\",\"margin\":\"0 0 22px 0\",\"display\":\"inline-block\"}' label=\"类型\" prop=\"type\">\r\n\t\t\t\t<el-select @change=\"typeChange\" v-model=\"ruleForm.type\" placeholder=\"类型\">\r\n\t\t\t\t\t<el-option label=\"客观题\" value=\"0\"></el-option>\r\n\t\t\t\t\t<el-option label=\"主观题\" value=\"4\"></el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"border\":\"0px solid #eee\",\"width\":\"100%\",\"padding\":\"0\",\"margin\":\"0 0 22px 0\",\"display\":\"inline-block\"}' v-if=\"ruleForm.type!=3&&ruleForm.type!=2&&ruleForm.type!=4\" label=\"选项\" prop=\"options\">\r\n\t\t\t\t<div class=\"options\" v-for=\"(item,index) in options\" v-bind:key=\"index\">\r\n\t\t\t\t\t{{item.text}}  （ 分数：{{item.score}} ） \t\t\t\t\t<el-button size=\"mini\" @click=\"editOptions(index)\" type=\"warning\" round>修改</el-button><el-button size=\"mini\" @click=\"deleteOptions(index)\" type=\"warning\" round>删除</el-button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<el-button size=\"small\" @click=\"addOptionsDialog\" type=\"primary\" round>添加选项</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"border\":\"0px solid #eee\",\"width\":\"100%\",\"padding\":\"0\",\"margin\":\"0 0 22px 0\",\"display\":\"inline-block\"}' label=\"分数\" prop=\"score\" v-if=\"ruleForm.type\">\r\n\t\t\t\t<el-input-number v-model=\"ruleForm.score\" :min=\"1\" :max=\"100\" label=\"分数\"></el-input-number>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"border\":\"0px solid #eee\",\"width\":\"100%\",\"padding\":\"0\",\"margin\":\"0 0 22px 0\",\"display\":\"inline-block\"}' label=\"分析\" prop=\"analysis\">\r\n\t\t\t\t<el-input\r\n\t\t\t\t\ttype=\"textarea\"\r\n\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\tv-model=\"ruleForm.analysis\"\r\n\t\t\t\t\tplaceholder=\"分析\"\r\n\t\t\t\t\tclearable\r\n\t\t\t\t></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"border\":\"0px solid #eee\",\"width\":\"100%\",\"padding\":\"0\",\"margin\":\"0 0 22px 0\",\"display\":\"inline-block\"}' label=\"排序\" prop=\"sequence\">\r\n\t\t\t\t<el-input-number v-model=\"ruleForm.sequence\" :min=\"1\" :max=\"20\" label=\"排序\"></el-input-number>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"padding\":\"0\",\"margin\":\"20px 0 0\"}'>\r\n\t\t\t\t<el-button class=\"btn3\" :style='{\"border\":\"0px solid #ccc\",\"cursor\":\"pointer\",\"padding\":\"0 10px\",\"margin\":\"0 10px 0 0\",\"color\":\"#fff\",\"borderRadius\":\"6px\",\"background\":\"#6ea0dc\",\"width\":\"auto\",\"fontSize\":\"16px\",\"minWidth\":\"110px\",\"height\":\"40px\"}' type=\"success\" @click=\"onSubmit\">\r\n\t\t\t\t\t<span class=\"icon iconfont icon-xihuan\" :style='{\"margin\":\"0 2px\",\"fontSize\":\"14px\",\"color\":\"#fff\",\"display\":\"none\",\"height\":\"40px\"}'></span>\r\n\t\t\t\t\t提交\r\n\t\t\t\t</el-button>\r\n\t\t\t\t<el-button class=\"btn4\" :style='{\"border\":\"0px solid #ccc\",\"cursor\":\"pointer\",\"padding\":\"0 10px\",\"margin\":\"0 10px 0 0\",\"color\":\"#fff\",\"borderRadius\":\"6px\",\"background\":\"#4abcff\",\"width\":\"auto\",\"fontSize\":\"16px\",\"minWidth\":\"110px\",\"height\":\"40px\"}' type=\"success\" @click=\"back()\">\r\n\t\t\t\t\t<span class=\"icon iconfont icon-xihuan\" :style='{\"margin\":\"0 2px\",\"fontSize\":\"14px\",\"color\":\"#fff\",\"display\":\"none\",\"height\":\"40px\"}'></span>\r\n\t\t\t\t\t取消\r\n\t\t\t\t</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t\t<el-dialog title=\"添加选项\" :visible.sync=\"addOptionsDialogVisiable\" width=\"50%\">\r\n\t\t\t<el-form ref=\"dialogForm\" :model=\"dialogForm\" :rules=\"dialogRules\" label-width=\"80px\">\r\n\t\t\t\t<el-form-item label=\"选项\" prop=\"code\">\r\n\t\t\t\t\t<el-select v-model=\"dialogForm.code\" placeholder=\"选项\">\r\n\t\t\t\t\t\t<el-option label=\"A\" value=\"A\" :disabled=\"changeCode('A')\"></el-option>\r\n\t\t\t\t\t\t<el-option label=\"B\" value=\"B\" :disabled=\"changeCode('B')\"></el-option>\r\n\t\t\t\t\t\t<el-option label=\"C\" value=\"C\" :disabled=\"changeCode('C')\"></el-option>\r\n\t\t\t\t\t\t<el-option label=\"D\" value=\"D\" :disabled=\"changeCode('D')\"></el-option>\r\n            <el-option label=\"E\" value=\"E\" :disabled=\"changeCode('E')\"></el-option>\r\n            <el-option label=\"F\" value=\"F\" :disabled=\"changeCode('F')\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"内容\" prop=\"text\">\r\n\t\t\t\t\t<el-input type=\"textarea\" min=\"1\" v-model=\"dialogForm.text\" placeholder=\"内容\" clearable></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"分数\" prop=\"score\">\r\n\t\t\t\t\t<el-input-number v-model=\"dialogForm.score\" :min=\"1\" :max=\"20\" label=\"分数\"></el-input-number>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"addOptionsDialogVisiable = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"addOptions\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport { isNumber } from \"@/utils/validate\";\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\tvar validateNumber = (rule, value, callback) => {\r\n\t\t\t\tif (!isNumber(value)) {\r\n\t\t\t\t\tcallback(new Error(\"请输入数字\"));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\truleForm: {},\r\n\t\t\t\toptions: [],\r\n\t\t\t\taddOptionsDialogVisiable: false,\r\n\t\t\t\tdialogForm: {},\r\n\t\t\t\tpaperOptions: [],\r\n\t\t\t\tdialogRules: {\r\n\t\t\t\t\ttext: [{ required: true, message: \"请填写内容\", trigger: \"blur\" }],\r\n\t\t\t\t\tcode: [{ required: true, message: \"请选择选项\", trigger: \"blur\" }],\r\n\t\t\t\t\tscore: [{ required: true, message: \"请输入分数\", trigger: \"blur\" }]\r\n\t\t\t\t},\r\n\t\t\t\trules: {\r\n\t\t\t\t\tpaperid: [{ required: true, message: \"请选择心理测试\", trigger: \"blur\" }],\r\n\t\t\t\t\tquestionname: [\r\n\t\t\t\t\t\t{ required: true, message: \"试题内容不能为空\", trigger: \"blur\" }\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttype: [{ required: true, message: \"请选择试题类型\", trigger: \"blur\" }],\r\n\t\t\t\t\tsequence: [{ required: true, message: \"排序不能为空\", trigger: \"blur\" }],\r\n\t\t\t\t\tanalysis: [\r\n\t\t\t\t\t\t{ required: true, message: \"分析不能为空\", trigger: \"blur\" }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tscore: [{ required: true, message: \"分数不能为空\", trigger: \"blur\" }]\r\n\t\t\t\t},\r\n\t\t\t\teditIndex: -1\r\n\t\t\t};\r\n\t\t},\r\n\t\tprops: [\"parent\"],\r\n\t\tmethods: {\r\n\t\t\t// 初始化\r\n\t\t\tinit(id) {\r\n\t\t\t\tif (id) {\r\n\t\t\t\t\tthis.info(id);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$http({\r\n\t\t\t\t\t\turl: this.$api.exampaperpage,\r\n\t\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\t\tlimit: 999\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).then(({ data }) => {\r\n\t\t\t\t\t\tif (data && data.code === 0) {\r\n\t\t\t\t\t\t\tthis.paperOptions = data.data.list;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.ruleForm.created = new Date();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinfo(id) {\r\n\t\t\t\tthis.$http({\r\n\t\t\t\t\turl: this.$api.exampaperpage,\r\n\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tlimit: 999\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(({ data }) => {\r\n\t\t\t\t\tif (data && data.code === 0) {\r\n\t\t\t\t\t\tthis.paperOptions = data.data.list;\r\n\t\t\t\t\t\tthis.$http({\r\n\t\t\t\t\t\t\turl: `${this.$api.examquestioninfo}${id}`,\r\n\t\t\t\t\t\t\tmethod: \"get\"\r\n\t\t\t\t\t\t}).then(({ data }) => {\r\n\t\t\t\t\t\t\tif (data && data.code === 0) {\r\n\t\t\t\t\t\t\t\tthis.ruleForm = data.data;\r\n\t\t\t\t\t\t\t\tthis.ruleForm.type = this.ruleForm.type + \"\";\r\n\t\t\t\t\t\t\t\tthis.options = JSON.parse(this.ruleForm.options);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$message.error(data.msg);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 提交\r\n\t\t\tonSubmit() {\r\n\t\t\t\tif (!this.options && this.type != 3) {\r\n\t\t\t\t\tthis.$message.error(\"请设置选项\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.ruleForm.options = JSON.stringify(this.options);\r\n\t\t\t\tthis.$refs[\"ruleForm\"].validate(valid => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tthis.$http({\r\n\t\t\t\t\t\t\turl: `${\r\n\t\t\t\t\t\t\t\t!this.ruleForm.id\r\n\t\t\t\t\t\t\t\t? `${this.$api.examquestionsave}`\r\n\t\t\t\t\t\t\t\t: `${this.$api.examquestionupdate}`\r\n\t\t\t\t\t\t\t}`,\r\n\t\t\t\t\t\t\tmethod: \"post\",\r\n\t\t\t\t\t\t\tdata: this.ruleForm\r\n\t\t\t\t\t\t}).then(({ data }) => {\r\n\t\t\t\t\t\t\tif (data && data.code === 0) {\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\tmessage: \"操作成功\",\r\n\t\t\t\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\t\t\t\t\tonClose: () => {\r\n\t\t\t\t\t\t\t\t\t\tthis.parent.showFlag = false;\r\n\t\t\t\t\t\t\t\t\t\tthis.parent.search();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$message.error(data.msg);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 返回\r\n\t\t\tback() {\r\n\t\t\t\tthis.parent.showFlag = false;\r\n\t\t\t},\r\n\t\t\t// 新增选项弹窗\r\n\t\t\taddOptionsDialog() {\r\n\t\t\t\tthis.addOptionsDialogVisiable = !this.addOptionsDialogVisiable;\r\n\t\t\t},\r\n\t\t\t// 新增选项\r\n\t\t\taddOptions() {\r\n\t\t\t\tthis.$refs[\"dialogForm\"].validate(valid => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tif(this.editIndex == -1){\r\n\t\t\t\t\t\t\tthis.options.push({\r\n\t\t\t\t\t\t\t\ttext: this.dialogForm.code + \".\" + this.dialogForm.text,\r\n\t\t\t\t\t\t\t\tcode: this.dialogForm.code,\r\n\t\t\t\t\t\t\t\tscore: this.dialogForm.score\r\n\t\t\t\t\t\t\t});\r\n\t\t\t  \r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.options[this.editIndex] = {\r\n\t\t\t\t\t\t\t\ttext: this.dialogForm.code + \".\" + this.dialogForm.text,\r\n\t\t\t\t\t\t\t\tcode: this.dialogForm.code,\r\n\t\t\t\t\t\t\t\tscore: this.dialogForm.score\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.dialogForm = {};\r\n\t\t\t\t\t\tthis.addOptionsDialogVisiable = !this.addOptionsDialogVisiable;\r\n\t\t\t\t\t\tthis.editIndex = -1\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 修改选项\r\n\t\t\teditOptions(index) {\r\n\t\t\t\tthis.editIndex = index\r\n\t\t\t\tlet arr = JSON.parse(JSON.stringify(this.options[index]))\r\n\t\t\t\tarr.text = arr.text.split(`${arr.code}.`)[1]\r\n\t\t\t\tthis.dialogForm = arr\r\n\t\t\t\tthis.addOptionsDialogVisiable = !this.addOptionsDialogVisiable;\r\n\t\t\t},\r\n\t\t\t// 删除选项\r\n\t\t\tdeleteOptions(index) {\r\n\t\t\t\tthis.options.splice(index, 1);\r\n\t\t\t},\r\n\t\t\tonPaperChange(e) {\r\n\t\t\t\tfor (let item of this.paperOptions) {\r\n\t\t\t\t\tif (item.id == e) {\r\n\t\t\t\t\t\tthis.ruleForm.papername = item.name;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 是否有相同选项\r\n\t\t\tchangeCode(index) {\r\n\t\t\t\tfor (let x in this.options) {\r\n\t\t\t\t\tif (this.options[x].code == index) {\r\n\t\t\t\t\t\treturn true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false\r\n\t\t\t},\r\n\t\t\ttypeChange(e) {\r\n\t\t\t},\r\n\t\t}\r\n\t};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n\t.options {\r\n\t\tmargin-bottom: 10px;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\twidth: 400px;\r\n\t}\r\n\t\r\n\t.el-date-editor.el-input {\r\n\t\twidth: auto;\r\n\t}\r\n\t\r\n\t.add-update-preview .el-form-item /deep/ .el-form-item__label {\r\n\t\t\t\tpadding: 0 10px 0 0;\r\n\t\t\t\tcolor: #6e6e6e;\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t\twidth: 180px;\r\n\t\t\t\tfont-size: 15px;\r\n\t\t\t\tline-height: 40px;\r\n\t\t\t\ttext-align: right;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview .el-form-item /deep/ .el-form-item__content {\r\n\t\tmargin-left: 180px;\r\n\t}\r\n\t\r\n\t.add-update-preview .el-input /deep/ .el-input__inner {\r\n\t\t\t\tborder: 1px solid #E8E8E8;\r\n\t\t\t\tborder-radius: 0px;\r\n\t\t\t\tpadding: 0 12px;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tbackground: #fff;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tfont-size: 15px;\r\n\t\t\t\tmin-width: 50%;\r\n\t\t\t\theight: 40px;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview .el-select /deep/ .el-input__inner {\r\n\t\t\t\tborder: 1px solid #E8E8E8;\r\n\t\t\t\tborder-radius: 0px;\r\n\t\t\t\tpadding: 0 10px;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tbackground: #fff;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tfont-size: 15px;\r\n\t\t\t\theight: 40px;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview .el-date-editor /deep/ .el-input__inner {\r\n\t\t\t\tborder: 1px solid #E8E8E8;\r\n\t\t\t\tborder-radius: 0px;\r\n\t\t\t\tpadding: 0 10px 0 30px;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tbackground: #fff;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tfont-size: 15px;\r\n\t\t\t\theight: 40px;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview /deep/ .el-upload--picture-card {\r\n\t\tbackground: transparent;\r\n\t\tborder: 0;\r\n\t\tborder-radius: 0;\r\n\t\twidth: auto;\r\n\t\theight: auto;\r\n\t\tline-height: initial;\r\n\t\tvertical-align: middle;\r\n\t}\r\n\t\r\n\t.add-update-preview /deep/ .upload .upload-img {\r\n\t\t\t\tborder: 1px solid #E8E8E8;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\tborder-radius: 0px;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tbackground: #fff;\r\n\t\t\t\twidth: 90px;\r\n\t\t\t\tfont-size: 24px;\r\n\t\t\t\tline-height: 60px;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\theight: 60px;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview /deep/ .el-upload-list .el-upload-list__item {\r\n\t\t\t\tborder: 1px solid #E8E8E8;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\tborder-radius: 0px;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tbackground: #fff;\r\n\t\t\t\twidth: 90px;\r\n\t\t\t\tfont-size: 24px;\r\n\t\t\t\tline-height: 60px;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\theight: 60px;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview /deep/ .el-upload .el-icon-plus {\r\n\t\t\t\tborder: 1px solid #E8E8E8;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\tborder-radius: 0px;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tbackground: #fff;\r\n\t\t\t\twidth: 90px;\r\n\t\t\t\tfont-size: 24px;\r\n\t\t\t\tline-height: 60px;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\theight: 60px;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview .el-textarea /deep/ .el-textarea__inner {\r\n\t\t\t\tborder: 1px solid #E8E8E8;\r\n\t\t\t\tborder-radius: 0px;\r\n\t\t\t\tpadding: 12px;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tbackground: #fff;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tfont-size: 15px;\r\n\t\t\t\tmin-height: 150px;\r\n\t\t\t\theight: auto;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview .btn .btn3 {\r\n\t\t\t\tborder: 0px solid #ccc;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\tborder-radius: 6px;\r\n\t\t\t\tpadding: 0 10px;\r\n\t\t\t\tmargin: 0 10px 0 0;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tbackground: #6ea0dc;\r\n\t\t\t\twidth: auto;\r\n\t\t\t\tfont-size: 16px;\r\n\t\t\t\tmin-width: 110px;\r\n\t\t\t\theight: 40px;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview .btn .btn3:hover {\r\n\t\t\t\topacity: 0.8;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview .btn .btn4 {\r\n\t\t\t\tborder: 0px solid #ccc;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\tborder-radius: 6px;\r\n\t\t\t\tpadding: 0 10px;\r\n\t\t\t\tmargin: 0 10px 0 0;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tbackground: #4abcff;\r\n\t\t\t\twidth: auto;\r\n\t\t\t\tfont-size: 16px;\r\n\t\t\t\tmin-width: 110px;\r\n\t\t\t\theight: 40px;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview .btn .btn4:hover {\r\n\t\t\t\topacity: 0.8;\r\n\t\t\t}\r\n</style>\r\n"]}]}