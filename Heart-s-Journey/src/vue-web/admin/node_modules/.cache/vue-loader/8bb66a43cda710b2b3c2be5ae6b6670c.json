{"remainingRequest":"/Users/robin/Desktop/Heart-s-Journey/src/vue-web/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/robin/Desktop/Heart-s-Journey/src/vue-web/admin/src/views/modules/examquestion/question-add-or-update.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/robin/Desktop/Heart-s-Journey/src/vue-web/admin/src/views/modules/examquestion/question-add-or-update.vue","mtime":1746520045945},{"path":"/Users/robin/Desktop/Heart-s-Journey/src/vue-web/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746520043641},{"path":"/Users/robin/Desktop/Heart-s-Journey/src/vue-web/admin/node_modules/babel-loader/lib/index.js","mtime":1746520043482},{"path":"/Users/robin/Desktop/Heart-s-Journey/src/vue-web/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746520043641},{"path":"/Users/robin/Desktop/Heart-s-Journey/src/vue-web/admin/node_modules/vue-loader/lib/index.js","mtime":1746520045746}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoJaW1wb3J0IHsgaXNOdW1iZXIgfSBmcm9tICJAL3V0aWxzL3ZhbGlkYXRlIjsNCglleHBvcnQgZGVmYXVsdCB7DQoJCWRhdGEoKSB7DQoJCQl2YXIgdmFsaWRhdGVOdW1iZXIgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7DQoJCQkJaWYgKCFpc051bWJlcih2YWx1ZSkpIHsNCgkJCQkJY2FsbGJhY2sobmV3IEVycm9yKCLor7fovpPlhaXmlbDlrZciKSk7DQoJCQkJfSBlbHNlIHsNCgkJCQkJY2FsbGJhY2soKTsNCgkJCQl9DQoJCQl9Ow0KCQkJcmV0dXJuIHsNCgkJCQlydWxlRm9ybToge30sDQoJCQkJb3B0aW9uczogW10sDQoJCQkJYWRkT3B0aW9uc0RpYWxvZ1Zpc2lhYmxlOiBmYWxzZSwNCgkJCQlkaWFsb2dGb3JtOiB7fSwNCgkJCQlwYXBlck9wdGlvbnM6IFtdLA0KCQkJCWRpYWxvZ1J1bGVzOiB7DQoJCQkJCXRleHQ6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+35aGr5YaZ5YaF5a65IiwgdHJpZ2dlcjogImJsdXIiIH1dLA0KCQkJCQljb2RlOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+mAieaLqemAiemhuSIsIHRyaWdnZXI6ICJibHVyIiB9XSwNCgkJCQkJc2NvcmU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl5YiG5pWwIiwgdHJpZ2dlcjogImJsdXIiIH1dDQoJCQkJfSwNCgkJCQlydWxlczogew0KCQkJCQlwYXBlcmlkOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+mAieaLqeW/g+eQhua1i+ivlSIsIHRyaWdnZXI6ICJibHVyIiB9XSwNCgkJCQkJcXVlc3Rpb25uYW1lOiBbDQoJCQkJCQl7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+V6aKY5YaF5a655LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH0NCgkJCQkJXSwNCgkJCQkJdHlwZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fpgInmi6nor5XpopjnsbvlnosiLCB0cmlnZ2VyOiAiYmx1ciIgfV0sDQoJCQkJCXNlcXVlbmNlOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuaOkuW6j+S4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9XSwNCgkJCQkJYW5hbHlzaXM6IFsNCgkJCQkJCXsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLliIbmnpDkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiYmx1ciIgfQ0KCQkJCQldLA0KCQkJCQlzY29yZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLliIbmlbDkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiYmx1ciIgfV0NCgkJCQl9LA0KCQkJCWVkaXRJbmRleDogLTENCgkJCX07DQoJCX0sDQoJCXByb3BzOiBbInBhcmVudCJdLA0KCQltZXRob2RzOiB7DQoJCQkvLyDliJ3lp4vljJYNCgkJCWluaXQoaWQpIHsNCgkJCQlpZiAoaWQpIHsNCgkJCQkJdGhpcy5pbmZvKGlkKTsNCgkJCQl9IGVsc2Ugew0KCQkJCQl0aGlzLiRodHRwKHsNCgkJCQkJCXVybDogdGhpcy4kYXBpLmV4YW1wYXBlcnBhZ2UsDQoJCQkJCQltZXRob2Q6ICJnZXQiLA0KCQkJCQkJcGFyYW1zOiB7DQoJCQkJCQkJcGFnZTogMSwNCgkJCQkJCQlsaW1pdDogOTk5DQoJCQkJCQl9DQoJCQkJCX0pLnRoZW4oKHsgZGF0YSB9KSA9PiB7DQoJCQkJCQlpZiAoZGF0YSAmJiBkYXRhLmNvZGUgPT09IDApIHsNCgkJCQkJCQl0aGlzLnBhcGVyT3B0aW9ucyA9IGRhdGEuZGF0YS5saXN0Ow0KCQkJCQkJfQ0KCQkJCQl9KTsNCgkJCQkJdGhpcy5ydWxlRm9ybS5jcmVhdGVkID0gbmV3IERhdGUoKTsNCgkJCQl9DQoJCQl9LA0KCQkJaW5mbyhpZCkgew0KCQkJCXRoaXMuJGh0dHAoew0KCQkJCQl1cmw6IHRoaXMuJGFwaS5leGFtcGFwZXJwYWdlLA0KCQkJCQltZXRob2Q6ICJnZXQiLA0KCQkJCQlwYXJhbXM6IHsNCgkJCQkJCXBhZ2U6IDEsDQoJCQkJCQlsaW1pdDogOTk5DQoJCQkJCX0NCgkJCQl9KS50aGVuKCh7IGRhdGEgfSkgPT4gew0KCQkJCQlpZiAoZGF0YSAmJiBkYXRhLmNvZGUgPT09IDApIHsNCgkJCQkJCXRoaXMucGFwZXJPcHRpb25zID0gZGF0YS5kYXRhLmxpc3Q7DQoJCQkJCQl0aGlzLiRodHRwKHsNCgkJCQkJCQl1cmw6IGAke3RoaXMuJGFwaS5leGFtcXVlc3Rpb25pbmZvfSR7aWR9YCwNCgkJCQkJCQltZXRob2Q6ICJnZXQiDQoJCQkJCQl9KS50aGVuKCh7IGRhdGEgfSkgPT4gew0KCQkJCQkJCWlmIChkYXRhICYmIGRhdGEuY29kZSA9PT0gMCkgew0KCQkJCQkJCQl0aGlzLnJ1bGVGb3JtID0gZGF0YS5kYXRhOw0KCQkJCQkJCQl0aGlzLnJ1bGVGb3JtLnR5cGUgPSB0aGlzLnJ1bGVGb3JtLnR5cGUgKyAiIjsNCgkJCQkJCQkJdGhpcy5vcHRpb25zID0gSlNPTi5wYXJzZSh0aGlzLnJ1bGVGb3JtLm9wdGlvbnMpOw0KCQkJCQkJCX0gZWxzZSB7DQoJCQkJCQkJCXRoaXMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOw0KCQkJCQkJCX0NCgkJCQkJCX0pOw0KCQkJCQl9DQoJCQkJfSk7DQoJCQl9LA0KCQkJLy8g5o+Q5LqkDQoJCQlvblN1Ym1pdCgpIHsNCgkJCQlpZiAoIXRoaXMub3B0aW9ucyAmJiB0aGlzLnR5cGUgIT0gMykgew0KCQkJCQl0aGlzLiRtZXNzYWdlLmVycm9yKCLor7forr7nva7pgInpobkiKTsNCgkJCQkJcmV0dXJuOw0KCQkJCX0NCgkJCQl0aGlzLnJ1bGVGb3JtLm9wdGlvbnMgPSBKU09OLnN0cmluZ2lmeSh0aGlzLm9wdGlvbnMpOw0KCQkJCXRoaXMuJHJlZnNbInJ1bGVGb3JtIl0udmFsaWRhdGUodmFsaWQgPT4gew0KCQkJCQlpZiAodmFsaWQpIHsNCgkJCQkJCXRoaXMuJGh0dHAoew0KCQkJCQkJCXVybDogYCR7DQoJCQkJCQkJCSF0aGlzLnJ1bGVGb3JtLmlkDQoJCQkJCQkJCT8gYCR7dGhpcy4kYXBpLmV4YW1xdWVzdGlvbnNhdmV9YA0KCQkJCQkJCQk6IGAke3RoaXMuJGFwaS5leGFtcXVlc3Rpb251cGRhdGV9YA0KCQkJCQkJCX1gLA0KCQkJCQkJCW1ldGhvZDogInBvc3QiLA0KCQkJCQkJCWRhdGE6IHRoaXMucnVsZUZvcm0NCgkJCQkJCX0pLnRoZW4oKHsgZGF0YSB9KSA9PiB7DQoJCQkJCQkJaWYgKGRhdGEgJiYgZGF0YS5jb2RlID09PSAwKSB7DQoJCQkJCQkJCXRoaXMuJG1lc3NhZ2Uoew0KCQkJCQkJCQkJbWVzc2FnZTogIuaTjeS9nOaIkOWKnyIsDQoJCQkJCQkJCQl0eXBlOiAic3VjY2VzcyIsDQoJCQkJCQkJCQlkdXJhdGlvbjogMTUwMCwNCgkJCQkJCQkJCW9uQ2xvc2U6ICgpID0+IHsNCgkJCQkJCQkJCQl0aGlzLnBhcmVudC5zaG93RmxhZyA9IGZhbHNlOw0KCQkJCQkJCQkJCXRoaXMucGFyZW50LnNlYXJjaCgpOw0KCQkJCQkJCQkJfQ0KCQkJCQkJCQl9KTsNCgkJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCQl0aGlzLiRtZXNzYWdlLmVycm9yKGRhdGEubXNnKTsNCgkJCQkJCQl9DQoJCQkJCQl9KTsNCgkJCQkJfQ0KCQkJCX0pOw0KCQkJfSwNCgkJCS8vIOi/lOWbng0KCQkJYmFjaygpIHsNCgkJCQl0aGlzLnBhcmVudC5zaG93RmxhZyA9IGZhbHNlOw0KCQkJfSwNCgkJCS8vIOaWsOWinumAiemhueW8ueeqlw0KCQkJYWRkT3B0aW9uc0RpYWxvZygpIHsNCgkJCQl0aGlzLmFkZE9wdGlvbnNEaWFsb2dWaXNpYWJsZSA9ICF0aGlzLmFkZE9wdGlvbnNEaWFsb2dWaXNpYWJsZTsNCgkJCX0sDQoJCQkvLyDmlrDlop7pgInpobkNCgkJCWFkZE9wdGlvbnMoKSB7DQoJCQkJdGhpcy4kcmVmc1siZGlhbG9nRm9ybSJdLnZhbGlkYXRlKHZhbGlkID0+IHsNCgkJCQkJaWYgKHZhbGlkKSB7DQoJCQkJCQlpZih0aGlzLmVkaXRJbmRleCA9PSAtMSl7DQoJCQkJCQkJdGhpcy5vcHRpb25zLnB1c2goew0KCQkJCQkJCQl0ZXh0OiB0aGlzLmRpYWxvZ0Zvcm0uY29kZSArICIuIiArIHRoaXMuZGlhbG9nRm9ybS50ZXh0LA0KCQkJCQkJCQljb2RlOiB0aGlzLmRpYWxvZ0Zvcm0uY29kZSwNCgkJCQkJCQkJc2NvcmU6IHRoaXMuZGlhbG9nRm9ybS5zY29yZQ0KCQkJCQkJCX0pOw0KCQkJICANCgkJCQkJCX1lbHNlew0KCQkJCQkJCXRoaXMub3B0aW9uc1t0aGlzLmVkaXRJbmRleF0gPSB7DQoJCQkJCQkJCXRleHQ6IHRoaXMuZGlhbG9nRm9ybS5jb2RlICsgIi4iICsgdGhpcy5kaWFsb2dGb3JtLnRleHQsDQoJCQkJCQkJCWNvZGU6IHRoaXMuZGlhbG9nRm9ybS5jb2RlLA0KCQkJCQkJCQlzY29yZTogdGhpcy5kaWFsb2dGb3JtLnNjb3JlDQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQkJdGhpcy5kaWFsb2dGb3JtID0ge307DQoJCQkJCQl0aGlzLmFkZE9wdGlvbnNEaWFsb2dWaXNpYWJsZSA9ICF0aGlzLmFkZE9wdGlvbnNEaWFsb2dWaXNpYWJsZTsNCgkJCQkJCXRoaXMuZWRpdEluZGV4ID0gLTENCgkJCQkJfQ0KCQkJCX0pOw0KCQkJfSwNCgkJCS8vIOS/ruaUuemAiemhuQ0KCQkJZWRpdE9wdGlvbnMoaW5kZXgpIHsNCgkJCQl0aGlzLmVkaXRJbmRleCA9IGluZGV4DQoJCQkJbGV0IGFyciA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5vcHRpb25zW2luZGV4XSkpDQoJCQkJYXJyLnRleHQgPSBhcnIudGV4dC5zcGxpdChgJHthcnIuY29kZX0uYClbMV0NCgkJCQl0aGlzLmRpYWxvZ0Zvcm0gPSBhcnINCgkJCQl0aGlzLmFkZE9wdGlvbnNEaWFsb2dWaXNpYWJsZSA9ICF0aGlzLmFkZE9wdGlvbnNEaWFsb2dWaXNpYWJsZTsNCgkJCX0sDQoJCQkvLyDliKDpmaTpgInpobkNCgkJCWRlbGV0ZU9wdGlvbnMoaW5kZXgpIHsNCgkJCQl0aGlzLm9wdGlvbnMuc3BsaWNlKGluZGV4LCAxKTsNCgkJCX0sDQoJCQlvblBhcGVyQ2hhbmdlKGUpIHsNCgkJCQlmb3IgKGxldCBpdGVtIG9mIHRoaXMucGFwZXJPcHRpb25zKSB7DQoJCQkJCWlmIChpdGVtLmlkID09IGUpIHsNCgkJCQkJCXRoaXMucnVsZUZvcm0ucGFwZXJuYW1lID0gaXRlbS5uYW1lOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfSwNCgkJCS8vIOaYr+WQpuacieebuOWQjOmAiemhuQ0KCQkJY2hhbmdlQ29kZShpbmRleCkgew0KCQkJCWZvciAobGV0IHggaW4gdGhpcy5vcHRpb25zKSB7DQoJCQkJCWlmICh0aGlzLm9wdGlvbnNbeF0uY29kZSA9PSBpbmRleCkgew0KCQkJCQkJcmV0dXJuIHRydWUNCgkJCQkJfQ0KCQkJCX0NCgkJCQlyZXR1cm4gZmFsc2UNCgkJCX0sDQoJCQl0eXBlQ2hhbmdlKGUpIHsNCgkJCX0sDQoJCX0NCgl9Ow0K"},{"version":3,"sources":["question-add-or-update.vue"],"names":[],"mappings":";AA6FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"question-add-or-update.vue","sourceRoot":"src/views/modules/examquestion","sourcesContent":["<template>\r\n\t<div :style='{\"width\":\"100%\",\"padding\":\"20px 30px\",\"fontSize\":\"15px\"}'>\r\n\t\t<el-form\r\n\t\t\t:style='{\"padding\":\"40px 25% 40px 18%\",\"borderColor\":\"#eee\",\"borderRadius\":\"10px\",\"borderStyle\":\"solid\",\"borderWidth\":\"1px\",\"background\":\"#ffffff\"}'\r\n\t\t\tclass=\"add-update-preview\"\r\n\t\t\tref=\"ruleForm\"\r\n\t\t\t:model=\"ruleForm\"\r\n\t\t\t:rules=\"rules\"\r\n\t\t\tlabel-width=\"180px\"\r\n\t\t>\r\n\t\t\t<el-form-item :style='{\"border\":\"0px solid #eee\",\"width\":\"100%\",\"padding\":\"0\",\"margin\":\"0 0 22px 0\",\"display\":\"inline-block\"}' label=\"选择心理测试\" prop=\"paperid\">\r\n\t\t\t\t<el-select @change=\"onPaperChange\" v-model=\"ruleForm.paperid\" placeholder=\"选择心理测试\">\r\n\t\t\t\t\t<el-option\r\n\t\t\t\t\t\tv-for=\"(item,index) in paperOptions\"\r\n\t\t\t\t\t\tv-bind:key=\"index\"\r\n\t\t\t\t\t\t:label=\"item.name\"\r\n\t\t\t\t\t\t:value=\"item.id\"\r\n\t\t\t\t\t></el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"border\":\"0px solid #eee\",\"width\":\"100%\",\"padding\":\"0\",\"margin\":\"0 0 22px 0\",\"display\":\"inline-block\"}' label=\"试题\" prop=\"questionname\">\r\n\t\t\t\t<editor\r\n\t\t\t\t\tstyle=\"min-width: 200px; max-width: 600px;\"\r\n\t\t\t\t\tv-model=\"ruleForm.questionname\" \r\n\t\t\t\t\tclass=\"editor\" \r\n\t\t\t\t\taction=\"file/upload\">\r\n\t\t\t\t</editor>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"border\":\"0px solid #eee\",\"width\":\"100%\",\"padding\":\"0\",\"margin\":\"0 0 22px 0\",\"display\":\"inline-block\"}' label=\"类型\" prop=\"type\">\r\n\t\t\t\t<el-select @change=\"typeChange\" v-model=\"ruleForm.type\" placeholder=\"类型\">\r\n\t\t\t\t\t<el-option label=\"客观题\" value=\"0\"></el-option>\r\n\t\t\t\t\t<el-option label=\"主观题\" value=\"4\"></el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"border\":\"0px solid #eee\",\"width\":\"100%\",\"padding\":\"0\",\"margin\":\"0 0 22px 0\",\"display\":\"inline-block\"}' v-if=\"ruleForm.type!=3&&ruleForm.type!=2&&ruleForm.type!=4\" label=\"选项\" prop=\"options\">\r\n\t\t\t\t<div class=\"options\" v-for=\"(item,index) in options\" v-bind:key=\"index\">\r\n\t\t\t\t\t{{item.text}}  （ 分数：{{item.score}} ） \t\t\t\t\t<el-button size=\"mini\" @click=\"editOptions(index)\" type=\"warning\" round>修改</el-button><el-button size=\"mini\" @click=\"deleteOptions(index)\" type=\"warning\" round>删除</el-button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<el-button size=\"small\" @click=\"addOptionsDialog\" type=\"primary\" round>添加选项</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"border\":\"0px solid #eee\",\"width\":\"100%\",\"padding\":\"0\",\"margin\":\"0 0 22px 0\",\"display\":\"inline-block\"}' label=\"分数\" prop=\"score\" v-if=\"ruleForm.type\">\r\n\t\t\t\t<el-input-number v-model=\"ruleForm.score\" :min=\"1\" :max=\"100\" label=\"分数\"></el-input-number>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"border\":\"0px solid #eee\",\"width\":\"100%\",\"padding\":\"0\",\"margin\":\"0 0 22px 0\",\"display\":\"inline-block\"}' label=\"分析\" prop=\"analysis\">\r\n\t\t\t\t<el-input\r\n\t\t\t\t\ttype=\"textarea\"\r\n\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\tv-model=\"ruleForm.analysis\"\r\n\t\t\t\t\tplaceholder=\"分析\"\r\n\t\t\t\t\tclearable\r\n\t\t\t\t></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"border\":\"0px solid #eee\",\"width\":\"100%\",\"padding\":\"0\",\"margin\":\"0 0 22px 0\",\"display\":\"inline-block\"}' label=\"排序\" prop=\"sequence\">\r\n\t\t\t\t<el-input-number v-model=\"ruleForm.sequence\" :min=\"1\" :max=\"20\" label=\"排序\"></el-input-number>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"padding\":\"0\",\"margin\":\"20px 0 0\"}'>\r\n\t\t\t\t<el-button class=\"btn3\" :style='{\"border\":\"0px solid #ccc\",\"cursor\":\"pointer\",\"padding\":\"0 10px\",\"margin\":\"0 10px 0 0\",\"color\":\"#fff\",\"borderRadius\":\"6px\",\"background\":\"#6ea0dc\",\"width\":\"auto\",\"fontSize\":\"16px\",\"minWidth\":\"110px\",\"height\":\"40px\"}' type=\"success\" @click=\"onSubmit\">\r\n\t\t\t\t\t<span class=\"icon iconfont icon-xihuan\" :style='{\"margin\":\"0 2px\",\"fontSize\":\"14px\",\"color\":\"#fff\",\"display\":\"none\",\"height\":\"40px\"}'></span>\r\n\t\t\t\t\t提交\r\n\t\t\t\t</el-button>\r\n\t\t\t\t<el-button class=\"btn4\" :style='{\"border\":\"0px solid #ccc\",\"cursor\":\"pointer\",\"padding\":\"0 10px\",\"margin\":\"0 10px 0 0\",\"color\":\"#fff\",\"borderRadius\":\"6px\",\"background\":\"#4abcff\",\"width\":\"auto\",\"fontSize\":\"16px\",\"minWidth\":\"110px\",\"height\":\"40px\"}' type=\"success\" @click=\"back()\">\r\n\t\t\t\t\t<span class=\"icon iconfont icon-xihuan\" :style='{\"margin\":\"0 2px\",\"fontSize\":\"14px\",\"color\":\"#fff\",\"display\":\"none\",\"height\":\"40px\"}'></span>\r\n\t\t\t\t\t取消\r\n\t\t\t\t</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t\t<el-dialog title=\"添加选项\" :visible.sync=\"addOptionsDialogVisiable\" width=\"50%\">\r\n\t\t\t<el-form ref=\"dialogForm\" :model=\"dialogForm\" :rules=\"dialogRules\" label-width=\"80px\">\r\n\t\t\t\t<el-form-item label=\"选项\" prop=\"code\">\r\n\t\t\t\t\t<el-select v-model=\"dialogForm.code\" placeholder=\"选项\">\r\n\t\t\t\t\t\t<el-option label=\"A\" value=\"A\" :disabled=\"changeCode('A')\"></el-option>\r\n\t\t\t\t\t\t<el-option label=\"B\" value=\"B\" :disabled=\"changeCode('B')\"></el-option>\r\n\t\t\t\t\t\t<el-option label=\"C\" value=\"C\" :disabled=\"changeCode('C')\"></el-option>\r\n\t\t\t\t\t\t<el-option label=\"D\" value=\"D\" :disabled=\"changeCode('D')\"></el-option>\r\n            <el-option label=\"E\" value=\"E\" :disabled=\"changeCode('E')\"></el-option>\r\n            <el-option label=\"F\" value=\"F\" :disabled=\"changeCode('F')\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"内容\" prop=\"text\">\r\n\t\t\t\t\t<el-input type=\"textarea\" min=\"1\" v-model=\"dialogForm.text\" placeholder=\"内容\" clearable></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"分数\" prop=\"score\">\r\n\t\t\t\t\t<el-input-number v-model=\"dialogForm.score\" :min=\"1\" :max=\"20\" label=\"分数\"></el-input-number>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"addOptionsDialogVisiable = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"addOptions\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport { isNumber } from \"@/utils/validate\";\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\tvar validateNumber = (rule, value, callback) => {\r\n\t\t\t\tif (!isNumber(value)) {\r\n\t\t\t\t\tcallback(new Error(\"请输入数字\"));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\truleForm: {},\r\n\t\t\t\toptions: [],\r\n\t\t\t\taddOptionsDialogVisiable: false,\r\n\t\t\t\tdialogForm: {},\r\n\t\t\t\tpaperOptions: [],\r\n\t\t\t\tdialogRules: {\r\n\t\t\t\t\ttext: [{ required: true, message: \"请填写内容\", trigger: \"blur\" }],\r\n\t\t\t\t\tcode: [{ required: true, message: \"请选择选项\", trigger: \"blur\" }],\r\n\t\t\t\t\tscore: [{ required: true, message: \"请输入分数\", trigger: \"blur\" }]\r\n\t\t\t\t},\r\n\t\t\t\trules: {\r\n\t\t\t\t\tpaperid: [{ required: true, message: \"请选择心理测试\", trigger: \"blur\" }],\r\n\t\t\t\t\tquestionname: [\r\n\t\t\t\t\t\t{ required: true, message: \"试题内容不能为空\", trigger: \"blur\" }\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttype: [{ required: true, message: \"请选择试题类型\", trigger: \"blur\" }],\r\n\t\t\t\t\tsequence: [{ required: true, message: \"排序不能为空\", trigger: \"blur\" }],\r\n\t\t\t\t\tanalysis: [\r\n\t\t\t\t\t\t{ required: true, message: \"分析不能为空\", trigger: \"blur\" }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tscore: [{ required: true, message: \"分数不能为空\", trigger: \"blur\" }]\r\n\t\t\t\t},\r\n\t\t\t\teditIndex: -1\r\n\t\t\t};\r\n\t\t},\r\n\t\tprops: [\"parent\"],\r\n\t\tmethods: {\r\n\t\t\t// 初始化\r\n\t\t\tinit(id) {\r\n\t\t\t\tif (id) {\r\n\t\t\t\t\tthis.info(id);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$http({\r\n\t\t\t\t\t\turl: this.$api.exampaperpage,\r\n\t\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\t\tlimit: 999\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).then(({ data }) => {\r\n\t\t\t\t\t\tif (data && data.code === 0) {\r\n\t\t\t\t\t\t\tthis.paperOptions = data.data.list;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.ruleForm.created = new Date();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinfo(id) {\r\n\t\t\t\tthis.$http({\r\n\t\t\t\t\turl: this.$api.exampaperpage,\r\n\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tlimit: 999\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(({ data }) => {\r\n\t\t\t\t\tif (data && data.code === 0) {\r\n\t\t\t\t\t\tthis.paperOptions = data.data.list;\r\n\t\t\t\t\t\tthis.$http({\r\n\t\t\t\t\t\t\turl: `${this.$api.examquestioninfo}${id}`,\r\n\t\t\t\t\t\t\tmethod: \"get\"\r\n\t\t\t\t\t\t}).then(({ data }) => {\r\n\t\t\t\t\t\t\tif (data && data.code === 0) {\r\n\t\t\t\t\t\t\t\tthis.ruleForm = data.data;\r\n\t\t\t\t\t\t\t\tthis.ruleForm.type = this.ruleForm.type + \"\";\r\n\t\t\t\t\t\t\t\tthis.options = JSON.parse(this.ruleForm.options);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$message.error(data.msg);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 提交\r\n\t\t\tonSubmit() {\r\n\t\t\t\tif (!this.options && this.type != 3) {\r\n\t\t\t\t\tthis.$message.error(\"请设置选项\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.ruleForm.options = JSON.stringify(this.options);\r\n\t\t\t\tthis.$refs[\"ruleForm\"].validate(valid => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tthis.$http({\r\n\t\t\t\t\t\t\turl: `${\r\n\t\t\t\t\t\t\t\t!this.ruleForm.id\r\n\t\t\t\t\t\t\t\t? `${this.$api.examquestionsave}`\r\n\t\t\t\t\t\t\t\t: `${this.$api.examquestionupdate}`\r\n\t\t\t\t\t\t\t}`,\r\n\t\t\t\t\t\t\tmethod: \"post\",\r\n\t\t\t\t\t\t\tdata: this.ruleForm\r\n\t\t\t\t\t\t}).then(({ data }) => {\r\n\t\t\t\t\t\t\tif (data && data.code === 0) {\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\tmessage: \"操作成功\",\r\n\t\t\t\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\t\t\t\t\tonClose: () => {\r\n\t\t\t\t\t\t\t\t\t\tthis.parent.showFlag = false;\r\n\t\t\t\t\t\t\t\t\t\tthis.parent.search();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$message.error(data.msg);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 返回\r\n\t\t\tback() {\r\n\t\t\t\tthis.parent.showFlag = false;\r\n\t\t\t},\r\n\t\t\t// 新增选项弹窗\r\n\t\t\taddOptionsDialog() {\r\n\t\t\t\tthis.addOptionsDialogVisiable = !this.addOptionsDialogVisiable;\r\n\t\t\t},\r\n\t\t\t// 新增选项\r\n\t\t\taddOptions() {\r\n\t\t\t\tthis.$refs[\"dialogForm\"].validate(valid => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tif(this.editIndex == -1){\r\n\t\t\t\t\t\t\tthis.options.push({\r\n\t\t\t\t\t\t\t\ttext: this.dialogForm.code + \".\" + this.dialogForm.text,\r\n\t\t\t\t\t\t\t\tcode: this.dialogForm.code,\r\n\t\t\t\t\t\t\t\tscore: this.dialogForm.score\r\n\t\t\t\t\t\t\t});\r\n\t\t\t  \r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.options[this.editIndex] = {\r\n\t\t\t\t\t\t\t\ttext: this.dialogForm.code + \".\" + this.dialogForm.text,\r\n\t\t\t\t\t\t\t\tcode: this.dialogForm.code,\r\n\t\t\t\t\t\t\t\tscore: this.dialogForm.score\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.dialogForm = {};\r\n\t\t\t\t\t\tthis.addOptionsDialogVisiable = !this.addOptionsDialogVisiable;\r\n\t\t\t\t\t\tthis.editIndex = -1\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 修改选项\r\n\t\t\teditOptions(index) {\r\n\t\t\t\tthis.editIndex = index\r\n\t\t\t\tlet arr = JSON.parse(JSON.stringify(this.options[index]))\r\n\t\t\t\tarr.text = arr.text.split(`${arr.code}.`)[1]\r\n\t\t\t\tthis.dialogForm = arr\r\n\t\t\t\tthis.addOptionsDialogVisiable = !this.addOptionsDialogVisiable;\r\n\t\t\t},\r\n\t\t\t// 删除选项\r\n\t\t\tdeleteOptions(index) {\r\n\t\t\t\tthis.options.splice(index, 1);\r\n\t\t\t},\r\n\t\t\tonPaperChange(e) {\r\n\t\t\t\tfor (let item of this.paperOptions) {\r\n\t\t\t\t\tif (item.id == e) {\r\n\t\t\t\t\t\tthis.ruleForm.papername = item.name;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 是否有相同选项\r\n\t\t\tchangeCode(index) {\r\n\t\t\t\tfor (let x in this.options) {\r\n\t\t\t\t\tif (this.options[x].code == index) {\r\n\t\t\t\t\t\treturn true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false\r\n\t\t\t},\r\n\t\t\ttypeChange(e) {\r\n\t\t\t},\r\n\t\t}\r\n\t};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n\t.options {\r\n\t\tmargin-bottom: 10px;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\twidth: 400px;\r\n\t}\r\n\t\r\n\t.el-date-editor.el-input {\r\n\t\twidth: auto;\r\n\t}\r\n\t\r\n\t.add-update-preview .el-form-item /deep/ .el-form-item__label {\r\n\t\t\t\tpadding: 0 10px 0 0;\r\n\t\t\t\tcolor: #6e6e6e;\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t\twidth: 180px;\r\n\t\t\t\tfont-size: 15px;\r\n\t\t\t\tline-height: 40px;\r\n\t\t\t\ttext-align: right;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview .el-form-item /deep/ .el-form-item__content {\r\n\t\tmargin-left: 180px;\r\n\t}\r\n\t\r\n\t.add-update-preview .el-input /deep/ .el-input__inner {\r\n\t\t\t\tborder: 1px solid #E8E8E8;\r\n\t\t\t\tborder-radius: 0px;\r\n\t\t\t\tpadding: 0 12px;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tbackground: #fff;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tfont-size: 15px;\r\n\t\t\t\tmin-width: 50%;\r\n\t\t\t\theight: 40px;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview .el-select /deep/ .el-input__inner {\r\n\t\t\t\tborder: 1px solid #E8E8E8;\r\n\t\t\t\tborder-radius: 0px;\r\n\t\t\t\tpadding: 0 10px;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tbackground: #fff;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tfont-size: 15px;\r\n\t\t\t\theight: 40px;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview .el-date-editor /deep/ .el-input__inner {\r\n\t\t\t\tborder: 1px solid #E8E8E8;\r\n\t\t\t\tborder-radius: 0px;\r\n\t\t\t\tpadding: 0 10px 0 30px;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tbackground: #fff;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tfont-size: 15px;\r\n\t\t\t\theight: 40px;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview /deep/ .el-upload--picture-card {\r\n\t\tbackground: transparent;\r\n\t\tborder: 0;\r\n\t\tborder-radius: 0;\r\n\t\twidth: auto;\r\n\t\theight: auto;\r\n\t\tline-height: initial;\r\n\t\tvertical-align: middle;\r\n\t}\r\n\t\r\n\t.add-update-preview /deep/ .upload .upload-img {\r\n\t\t\t\tborder: 1px solid #E8E8E8;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\tborder-radius: 0px;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tbackground: #fff;\r\n\t\t\t\twidth: 90px;\r\n\t\t\t\tfont-size: 24px;\r\n\t\t\t\tline-height: 60px;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\theight: 60px;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview /deep/ .el-upload-list .el-upload-list__item {\r\n\t\t\t\tborder: 1px solid #E8E8E8;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\tborder-radius: 0px;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tbackground: #fff;\r\n\t\t\t\twidth: 90px;\r\n\t\t\t\tfont-size: 24px;\r\n\t\t\t\tline-height: 60px;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\theight: 60px;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview /deep/ .el-upload .el-icon-plus {\r\n\t\t\t\tborder: 1px solid #E8E8E8;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\tborder-radius: 0px;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tbackground: #fff;\r\n\t\t\t\twidth: 90px;\r\n\t\t\t\tfont-size: 24px;\r\n\t\t\t\tline-height: 60px;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\theight: 60px;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview .el-textarea /deep/ .el-textarea__inner {\r\n\t\t\t\tborder: 1px solid #E8E8E8;\r\n\t\t\t\tborder-radius: 0px;\r\n\t\t\t\tpadding: 12px;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tbackground: #fff;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tfont-size: 15px;\r\n\t\t\t\tmin-height: 150px;\r\n\t\t\t\theight: auto;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview .btn .btn3 {\r\n\t\t\t\tborder: 0px solid #ccc;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\tborder-radius: 6px;\r\n\t\t\t\tpadding: 0 10px;\r\n\t\t\t\tmargin: 0 10px 0 0;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tbackground: #6ea0dc;\r\n\t\t\t\twidth: auto;\r\n\t\t\t\tfont-size: 16px;\r\n\t\t\t\tmin-width: 110px;\r\n\t\t\t\theight: 40px;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview .btn .btn3:hover {\r\n\t\t\t\topacity: 0.8;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview .btn .btn4 {\r\n\t\t\t\tborder: 0px solid #ccc;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\tborder-radius: 6px;\r\n\t\t\t\tpadding: 0 10px;\r\n\t\t\t\tmargin: 0 10px 0 0;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tbackground: #4abcff;\r\n\t\t\t\twidth: auto;\r\n\t\t\t\tfont-size: 16px;\r\n\t\t\t\tmin-width: 110px;\r\n\t\t\t\theight: 40px;\r\n\t\t\t}\r\n\t\r\n\t.add-update-preview .btn .btn4:hover {\r\n\t\t\t\topacity: 0.8;\r\n\t\t\t}\r\n</style>\r\n"]}]}