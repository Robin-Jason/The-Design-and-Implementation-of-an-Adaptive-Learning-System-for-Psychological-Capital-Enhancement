{"remainingRequest":"/Users/robin/Desktop/Heart's Journey/src/vue-web/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/robin/Desktop/Heart's Journey/src/vue-web/front/src/pages/exam/examList.vue?vue&type=style&index=0&id=5e0bd20e&rel=stylesheet%2Fscss&lang=scss&scoped=true","dependencies":[{"path":"/Users/robin/Desktop/Heart's Journey/src/vue-web/front/src/pages/exam/examList.vue","mtime":1741004935260},{"path":"/Users/robin/Desktop/Heart's Journey/src/vue-web/front/node_modules/css-loader/dist/cjs.js","mtime":1741004933828},{"path":"/Users/robin/Desktop/Heart's Journey/src/vue-web/front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1741004935128},{"path":"/Users/robin/Desktop/Heart's Journey/src/vue-web/front/node_modules/postcss-loader/src/index.js","mtime":1741004934560},{"path":"/Users/robin/Desktop/Heart's Journey/src/vue-web/front/node_modules/sass-loader/dist/cjs.js","mtime":1741004934920},{"path":"/Users/robin/Desktop/Heart's Journey/src/vue-web/front/node_modules/cache-loader/dist/cjs.js","mtime":1741004933467},{"path":"/Users/robin/Desktop/Heart's Journey/src/vue-web/front/node_modules/vue-loader/lib/index.js","mtime":1741004935128}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5zZWN0aW9uIHsKCXdpZHRoOiA5MDBweDsKCW1hcmdpbjogMCBhdXRvOwp9Cgo="},{"version":3,"sources":["examList.vue"],"names":[],"mappings":";AA0JA;AACA;AACA;AACA","file":"examList.vue","sourceRoot":"src/pages/exam","sourcesContent":["<template>\r\n\t<div :style='{\"width\":\"100%\",\"padding\":\"20px 16%\",\"margin\":\"10px auto\",\"position\":\"relative\",\"background\":\"none\"}'>\r\n\t\t<div class=\"back_box\">\r\n\t\t\t<el-button class=\"backBtn\" size=\"mini\" @click=\"backClick\">\r\n\t\t\t\t<span class=\"icon iconfont icon-jiantou33\"></span>\r\n\t\t\t\t<span class=\"text\">返回</span>\r\n\t\t\t</el-button>\r\n\t\t</div>\r\n\t\t<div class=\"section-title\" :style='{\"margin\":\"10px 0\",\"color\":\"#fff\",\"textAlign\":\"center\",\"background\":\"url(http://codegen.caihongy.cn/20241127/0acd634bb5d34165a420a799b58e4f17.png) 100% 100%/cover no-repeat\",\"fontSize\":\"24px\",\"lineHeight\":\"100px\",\"fontWeight\":\"bold\",\"height\":\"80px\"}'>测试</div>\r\n\t\t<el-table :data=\"tableData\" style=\"width: 100%\">\r\n\t\t\t<el-table-column label=\"心理测评名称\" prop=\"papername\"> </el-table-column>\r\n\t\t\t<el-table-column label=\"测评得分\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-tag v-if=\"scope.row.myscore==0&&scope.row.ismark==0\" type=\"danger\">{{scope.row.myscore}}</el-tag>\r\n\t\t\t\t\t<el-tag v-else-if=\"scope.row.myscore>0&&scope.row.ismark==0\" type=\"success\">{{scope.row.myscore}}</el-tag>\r\n\t\t\t\t\t<el-tag v-else-if=\"scope.row.ismark>0\" type=\"warning\">批阅中</el-tag>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"操作\" width=\"150\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-button type=\"danger\" size=\"mini\" @click=\"handleView(scope.$index, scope.row)\">查看</el-button>\r\n\t\t\t\t\t<el-button v-if=\"isAuth('examrecord','批卷')&&scope.row.ismark>0\" type=\"primary\" size=\"mini\" @click=\"gradeClick(scope.row)\">\r\n\t\t\t\t\t\t批卷\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\t\r\n\t\t<el-pagination\r\n\t\t\tbackground\r\n\t\t\tid=\"pagination\" class=\"pagination\"\r\n\t\t\t:pager-count=\"7\"\r\n\t\t\t:page-size=\"pageSize\"\r\n\t\t\tprev-text=\"<\"\r\n\t\t\tnext-text=\">\"\r\n\t\t\t:hide-on-single-page=\"true\"\r\n\t\t\t:layout='[\"total\",\"prev\",\"pager\",\"next\"].join()'\r\n\t\t\t:total=\"total\"\r\n\t\t\t:style='{\"padding\":\"0\",\"boxShadow\":\"inset 0px 3px 6px 0px #ccc\",\"margin\":\"20px auto\",\"whiteSpace\":\"nowrap\",\"color\":\"#333\",\"textAlign\":\"center\",\"background\":\"#fff\",\"width\":\"60%\",\"fontSize\":\"inherit\",\"fontWeight\":\"500\"}'\r\n\t\t\t@current-change=\"curChange\"\r\n\t\t\t@prev-click=\"prevClick\"\r\n\t\t\t@next-click=\"nextClick\"\r\n\t\t\t></el-pagination>\r\n\t\t<el-dialog title=\"批卷\" :visible.sync=\"gradeVisible\" fullscreen>\r\n\t\t\t<el-card v-for=\"(item,index) in gradeList\" :key=\"index\" style=\"width: 90%;margin: 10px auto\">\r\n\t\t\t\t<div style=\"padding: 20px;box-sizing:border-box;border-bottom:1px solid #eee\">\r\n\t\t\t\t\t{{index + 1}}、<span class=\"ql-snow ql-editor\" v-html=\"item.questionname\"></span> \t\t\t\t\t<el-tag type=\"success\" v-if=\"item.type==0\">客观题</el-tag>\r\n\t\t\t\t\t<el-tag type=\"danger\" v-if=\"item.type==4\">主观题</el-tag>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"padding: 10px;box-sizing:border-box\">\r\n\t\t\t\t\t考生答案：{{item.myanswer}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"padding: 20px;box-sizing:border-box\">\r\n\t\t\t\t\t解析：{{item.analysis}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"padding: 20px;box-sizing:border-box;display:flex;align-items:center\" v-if=\"item.type==4\">\r\n\t\t\t\t\t评分：<el-input-number v-model=\"item.myscore\" :min=\"0\" :max=\"item.score\"></el-input-number>\r\n\t\t\t\t</div>\r\n\t\t\t</el-card>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"gradeVisible=false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"gradeSave\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tlayouts: '',\r\n\t\t\t\ttableData: [],\r\n\t\t\t\ttotal: 1,\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t\ttotalPage: 1,\r\n\t\t\t\tgradeList: [],\r\n\t\t\t\tgradeVisible: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getExamList(1);\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tbackClick() {\r\n\t\t\t\tthis.$router.push('/index/center')\r\n\t\t\t},\r\n\t\t\tgetExamList(page) {\r\n\t\t\t\tthis.$http.get('examrecord/groupby', {params: {page, limit: this.pageSize, userid: localStorage.getItem('frontUserid')}}).then(res => {\r\n\t\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\t\tthis.tableData = res.data.data.list;\r\n\t\t\t\t\t\tthis.total = res.data.data.total;\r\n\t\t\t\t\t\tthis.pageSize = Number(res.data.data.pageSize);\r\n\t\t\t\t\t\tthis.totalPage = res.data.data.totalPage;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tcurChange(page) {\r\n\t\t\t\tthis.getExamList(page);\r\n\t\t\t},\r\n\t\t\tprevClick(page) {\r\n\t\t\t\tthis.getExamList(page);\r\n\t\t\t},\r\n\t\t\tnextClick(page) {\r\n\t\t\t\tthis.getExamList(page);\r\n\t\t\t},\r\n\t\t\thandleView(index, row) {\r\n\t\t\t\tthis.$router.push({path: '/index/examRecord/1', query: {paperid: row.paperid}})\r\n\t\t\t},\r\n\t\t\t// 批卷\r\n\t\t\tgradeClick(row) {\r\n\t\t\t\tthis.$http.get('examrecord/page',{params:{page:1,limit:100,paperid:row.paperid,userid:row.userid}}).then(res=>{\r\n\t\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\t\tfor(let x in res.data.data.list){\r\n\t\t\t\t\t\t\tif(res.data.data.list[x].type==4){\r\n\t\t\t\t\t\t\t\tres.data.data.list[x].myscore = 0\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tres.data.data.list[x].questionname = res.data.data.list[x].questionname.replace(/img src/gi,\"img style=\\\"width:100%;\\\" src\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.gradeList = res.data.data.list\r\n\t\t\t\t\t\tthis.gradeVisible = true\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgradeSave(){\r\n\t\t\t\tfor(let i in this.gradeList){\r\n\t\t\t\t\tthis.updaterecord(this.gradeList[i])\r\n\t\t\t\t}\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: \"批卷成功\",\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\tonClose: () => {\r\n\t\t\t\t\t\tthis.getDataList()\r\n\t\t\t\t\t\tthis.gradeVisible = false\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tupdaterecord(item) {\r\n\t\t\t\titem.ismark = 1\r\n\t\t\t\tthis.$http.post('examrecord/update',item).then(res=>{})\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n\t.section {\r\n\t\twidth: 900px;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\r\n</style>\r\n"]}]}