{"remainingRequest":"/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/node_modules/babel-loader/lib/index.js!/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/src/pages/exam/exam.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/src/pages/exam/exam.vue","mtime":1746520048610},{"path":"/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/babel.config.js","mtime":1746520045950},{"path":"/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/node_modules/cache-loader/dist/cjs.js","mtime":1746520046764},{"path":"/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/node_modules/babel-loader/lib/index.js","mtime":1746520046619},{"path":"/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/node_modules/cache-loader/dist/cjs.js","mtime":1746520046764},{"path":"/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/node_modules/vue-loader/lib/index.js","mtime":1746520048473}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICAvL+aVsOaNrumbhuWQiAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBxdWVzdGlvbkxpc3Q6IFtdLAogICAgICBpc1N1Ym1pdDogZmFsc2UsCiAgICAgIGVuZDogZmFsc2UsCiAgICAgIG1heHRpbWU6IDAsCiAgICAgIHRpbWVyOiBudWxsLAogICAgICBob3VyOiAnJywKICAgICAgbWludXRlOiAnJywKICAgICAgc2Vjb25kOiAnJywKICAgICAgdXNlcjoge30sCiAgICAgIGhhc3N1YmplY3Q6IGZhbHNlLAogICAgICBwYXBlcjoge30sCiAgICAgIGRldGVybWluZUZvcm06IHt9LAogICAgICBkZXRlcm1pbmVMaXN0OiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRodHRwLmdldChgZXhhbXBhcGVyL2luZm8vJHt0aGlzLiRyb3V0ZS5xdWVyeS5pZH1gLCB7fSkudGhlbihyZXMgPT4gewogICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAwKSB7CiAgICAgICAgdGhpcy5wYXBlciA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgdGhpcy5tYXh0aW1lID0gdGhpcy5wYXBlci50aW1lICogNjA7CiAgICAgICAgdGhpcy5kZWxldGVSZWNvcmRzKHRoaXMucGFwZXIuaWQpOwogICAgICAgIHRoaXMuZ2V0UXVlc3Rpb24odGhpcy5wYXBlci5pZCk7CiAgICAgICAgdGhpcy5ob3VyID0gTWF0aC5mbG9vcih0aGlzLm1heHRpbWUgLyA2MCAvIDYwKTsKICAgICAgICB0aGlzLm1pbnV0ZSA9IE1hdGguZmxvb3IodGhpcy5tYXh0aW1lIC8gNjAgJSA2MCk7CiAgICAgICAgdGhpcy5zZWNvbmQgPSBNYXRoLmZsb29yKHRoaXMubWF4dGltZSAlIDYwKTsKICAgICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5jb3VudERvd24sIDEwMDApOwogICAgICAgIHRoaXMuJGh0dHAuZ2V0KCdzY29yZWRldGVybWluYXRpb24vbGlzdCcsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBwYXBlcmlkOiB0aGlzLnBhcGVyLmlkLAogICAgICAgICAgICBwYWdlOiAxLAogICAgICAgICAgICBsaW1pdDogMTAwLAogICAgICAgICAgICBzb3J0OiAnc2NvcmUnLAogICAgICAgICAgICBvcmRlcjogJ2Rlc2MnCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihycyA9PiB7CiAgICAgICAgICB0aGlzLmRldGVybWluZUxpc3QgPSBycy5kYXRhLmRhdGEubGlzdDsKICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgICB0aGlzLiRodHRwLmdldChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnVXNlclRhYmxlTmFtZScpICsgJy9zZXNzaW9uJywgewogICAgICBlbXVsYXRlSlNPTjogdHJ1ZQogICAgfSkudGhlbihyZXMgPT4gewogICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAwKSB7CiAgICAgICAgdGhpcy51c2VyID0gcmVzLmRhdGEuZGF0YTsKICAgICAgfQogICAgfSk7CiAgfSwKICAvL+aWueazlembhuWQiAogIG1ldGhvZHM6IHsKICAgIHF1ZXN0aW9uVHlwZShpdGVtKSB7CiAgICAgIHN3aXRjaCAoaXRlbS50eXBlKSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgcmV0dXJuICflrqLop4LpopgnOwogICAgICAgIGNhc2UgNDoKICAgICAgICAgIHJldHVybiAn5Li76KeC6aKYJzsKICAgICAgfQogICAgfSwKICAgIGRlbGV0ZVJlY29yZHMocGFwZXJpZCkgewogICAgICB0aGlzLiRodHRwLnBvc3QoYGV4YW1yZWNvcmQvZGVsZXRlUmVjb3Jkcz91c2VyaWQ9JHtsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZnJvbnRVc2VyaWQnKX0mcGFwZXJpZD0ke3BhcGVyaWR9YCkudGhlbihyZXMgPT4ge30pOwogICAgfSwKICAgIGdldFF1ZXN0aW9uKHBhcGVyaWQpIHsKICAgICAgdGhpcy4kaHR0cC5nZXQoJ2V4YW1xdWVzdGlvbi9saXN0JywgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgcGFnZTogMSwKICAgICAgICAgIGxpbWl0OiAxMDAwLAogICAgICAgICAgcGFwZXJpZAogICAgICAgIH0KICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsKICAgICAgICAgIGZvciAobGV0IHggaW4gcmVzLmRhdGEuZGF0YS5saXN0KSB7CiAgICAgICAgICAgIHJlcy5kYXRhLmRhdGEubGlzdFt4XS5xdWVzdGlvbm5hbWUgPSByZXMuZGF0YS5kYXRhLmxpc3RbeF0ucXVlc3Rpb25uYW1lLnJlcGxhY2UoL2ltZyBzcmMvZ2ksICJpbWcgc3R5bGU9XCJ3aWR0aDoxMDAlO1wiIHNyYyIpOwogICAgICAgICAgICBpZiAocmVzLmRhdGEuZGF0YS5saXN0W3hdLnR5cGUgPT0gNCkgewogICAgICAgICAgICAgIHRoaXMuaGFzc3ViamVjdCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHJlcy5kYXRhLmRhdGEubGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgIHJldHVybiBiLnNlcXVlbmNlIC0gYS5zZXF1ZW5jZTsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5xdWVzdGlvbkxpc3QgPSByZXMuZGF0YS5kYXRhLmxpc3Q7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzdWJtaXRBbnN3ZXIoKSB7CiAgICAgIGZvciAobGV0IGkgaW4gdGhpcy5xdWVzdGlvbkxpc3QpIHsKICAgICAgICBpZiAodGhpcy5xdWVzdGlvbkxpc3RbaV0udHlwZSA9PSAxKSB7CiAgICAgICAgICBpZiAoIXRoaXMucXVlc3Rpb25MaXN0W2ldLm15YW5zd2VyIHx8IHRoaXMucXVlc3Rpb25MaXN0W2ldLm15YW5zd2VyICYmIHRoaXMucXVlc3Rpb25MaXN0W2ldLm15YW5zd2VyLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+i/mOacieivlemimOacquWujOaIkOS9nOetlCcpOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICghdGhpcy5xdWVzdGlvbkxpc3RbaV0ubXlhbnN3ZXIgfHwgdGhpcy5xdWVzdGlvbkxpc3RbaV0ubXlhbnN3ZXIgJiYgdGhpcy5xdWVzdGlvbkxpc3RbaV0ubXlhbnN3ZXIgPT0gJycpIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6L+Y5pyJ6K+V6aKY5pyq5a6M5oiQ5L2c562UJyk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy4kY29uZmlybShg5piv5ZCm5a6M5oiQ5L2c562U77yM5o+Q5Lqk5b+D55CG5rWL6K+E77yfYCwgIuaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIGZvciAobGV0IHggaW4gdGhpcy5xdWVzdGlvbkxpc3QpIHsKICAgICAgICAgIGlmICh0aGlzLnF1ZXN0aW9uTGlzdFt4XS50eXBlICE9IDQpIHsKICAgICAgICAgICAgdGhpcy5xdWVzdGlvbkxpc3RbeF0ub3B0aW9uTGlzdCA9IEpTT04ucGFyc2UodGhpcy5xdWVzdGlvbkxpc3RbeF0ub3B0aW9ucyk7CiAgICAgICAgICAgIGZvciAobGV0IGkgaW4gdGhpcy5xdWVzdGlvbkxpc3RbeF0ub3B0aW9uTGlzdCkgewogICAgICAgICAgICAgIGlmICh0aGlzLnF1ZXN0aW9uTGlzdFt4XS5teWFuc3dlciA9PSB0aGlzLnF1ZXN0aW9uTGlzdFt4XS5vcHRpb25MaXN0W2ldLmNvZGUpIHsKICAgICAgICAgICAgICAgIHRoaXMucXVlc3Rpb25MaXN0W3hdLm15c2NvcmUgPSB0aGlzLnF1ZXN0aW9uTGlzdFt4XS5vcHRpb25MaXN0W2ldLnNjb3JlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5xdWVzdGlvbkxpc3RbeF0ubXlzY29yZSA9IDA7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnNhdmVyZWNvcmQodGhpcy5xdWVzdGlvbkxpc3RbeF0pOwogICAgICAgIH0KICAgICAgICB0aGlzLmVuZCA9IHRydWU7CiAgICAgIH0pOwogICAgfSwKICAgIHNjb3JlQ2hhbmdlKCkgewogICAgICBsZXQgc2NvcmUgPSAwOwogICAgICBmb3IgKGxldCB4IGluIHRoaXMucXVlc3Rpb25MaXN0KSB7CiAgICAgICAgaWYgKHRoaXMucXVlc3Rpb25MaXN0W3hdLm15c2NvcmUpIHsKICAgICAgICAgIHNjb3JlICs9IE51bWJlcih0aGlzLnF1ZXN0aW9uTGlzdFt4XS5teXNjb3JlKSB8fCAwOwogICAgICAgIH0KICAgICAgfQogICAgICBmb3IgKGxldCBpIGluIHRoaXMuZGV0ZXJtaW5lTGlzdCkgewogICAgICAgIGlmIChzY29yZSA+PSB0aGlzLmRldGVybWluZUxpc3RbaV0uc2NvcmUpIHsKICAgICAgICAgIHRoaXMuZGV0ZXJtaW5lRm9ybSA9IHRoaXMuZGV0ZXJtaW5lTGlzdFtpXTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gc2NvcmU7CiAgICB9LAogICAgc2F2ZXJlY29yZChyb3cpIHsKICAgICAgbGV0IHJlY29yZCA9IHsKICAgICAgICB1c2VyaWQ6IHRoaXMudXNlci5pZCwKICAgICAgICB1c2VybmFtZTogdGhpcy51c2VyLnlvbmdodXhpbmdtaW5nLAogICAgICAgIHBhcGVyaWQ6IHRoaXMucGFwZXIuaWQsCiAgICAgICAgcGFwZXJuYW1lOiB0aGlzLnBhcGVyLm5hbWUsCiAgICAgICAgcXVlc3Rpb25pZDogcm93LmlkLAogICAgICAgIHF1ZXN0aW9ubmFtZTogcm93LnF1ZXN0aW9ubmFtZSwKICAgICAgICBvcHRpb25zOiByb3cub3B0aW9ucywKICAgICAgICBzY29yZTogcm93LnNjb3JlLAogICAgICAgIGFuYWx5c2lzOiByb3cuYW5hbHlzaXMsCiAgICAgICAgbXlzY29yZTogcm93Lm15c2NvcmUsCiAgICAgICAgbXlhbnN3ZXI6IHJvdy5teWFuc3dlciwKICAgICAgICB0eXBlOiByb3cudHlwZSwKICAgICAgICBpc21hcms6IHRoaXMuaGFzc3ViamVjdCA/IDAgOiAxCiAgICAgIH07CiAgICAgIHRoaXMuJGh0dHAucG9zdCgnZXhhbXJlY29yZC9hZGQnLCByZWNvcmQpLnRoZW4ocmVzID0+IHt9KTsKICAgIH0sCiAgICBkb25lRXhhbSh0eXBlKSB7CiAgICAgIGlmICh0eXBlID09IDApIHsKICAgICAgICB0aGlzLiRjb25maXJtKCfnoa7lrprnprvlvIDmtYvor5U/5pyq562U6aKY55uu5oyJMOWIhuiuoScsICfmj5DnpLonLCB7CiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5lbmQgPSB0cnVlOwogICAgICAgICAgaWYgKHRoaXMucXVlc3Rpb25MaXN0Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvaW5kZXgvZXhhbVBhcGVyJyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9pbmRleC9leGFtUGFwZXInKTsKICAgICAgfQogICAgfSwKICAgIGNvdW50RG93bigpIHsKICAgICAgaWYgKHRoaXMubWF4dGltZSA+IDApIHsKICAgICAgICB0aGlzLmhvdXIgPSBNYXRoLmZsb29yKCh0aGlzLm1heHRpbWUgLSAxKSAvIDYwIC8gNjApOwogICAgICAgIHRoaXMubWludXRlID0gTWF0aC5mbG9vcigodGhpcy5tYXh0aW1lIC0gMSkgLyA2MCAlIDYwKTsKICAgICAgICB0aGlzLnNlY29uZCA9IE1hdGguZmxvb3IoKHRoaXMubWF4dGltZSAtIDEpICUgNjApOwogICAgICAgIC0tdGhpcy5tYXh0aW1lOwogICAgICB9IGVsc2UgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICAgICAgdGhpcy5lbmQgPSB0cnVlOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["data","questionList","isSubmit","end","maxtime","timer","hour","minute","second","user","hassubject","paper","determineForm","determineList","created","$http","get","$route","query","id","then","res","code","time","deleteRecords","getQuestion","Math","floor","setInterval","countDown","params","paperid","page","limit","sort","order","rs","list","localStorage","getItem","emulateJSON","methods","questionType","item","type","post","x","questionname","replace","a","b","sequence","submitAnswer","i","myanswer","length","$message","error","$confirm","confirmButtonText","cancelButtonText","optionList","JSON","parse","options","myscore","score","saverecord","scoreChange","Number","row","record","userid","username","yonghuxingming","papername","name","questionid","analysis","ismark","doneExam","$router","push","clearInterval"],"sources":["src/pages/exam/exam.vue"],"sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div class=\"top-content\">\r\n\t\t\t<div class=\"top-content-left\">{{paper.name}} （ 共 <el-tag type=\"danger\">{{questionList.length}}</el-tag> 题 ）\r\n\t\t\t</div>\r\n\t\t\t<div class=\"top-content-center\" v-cloak>距离测试结束还有 <el-tag type=\"danger\">{{this.hour}}</el-tag> 时 <el-tag\r\n\t\t\t\t\ttype=\"danger\">{{this.minute}}</el-tag> 分 <el-tag type=\"danger\">{{this.second}}</el-tag> 秒</div>\r\n\t\t\t<div class=\"top-content-right\">\r\n\t\t\t\t<el-button type=\"danger\" @click=\"doneExam(0)\">结束测试</el-button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<el-card v-if=\"end\" style=\"width: 90%;margin: 10px auto;\">\r\n\t\t\t<div style=\"width: 100%;display: flex;flex-direction: column;align-items: center;\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\"question-title\">测试成绩：<el-tag type=\"danger\">{{scoreChange()}}</el-tag> 分</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"question-title\">您的心理{{determineForm.determine}}</div>\r\n\t\t\t\t<div class=\"question-title\" style=\"width: 60%;\">分析：{{determineForm.analysis}}</div>\r\n\t\t\t\t<div class=\"question-btn\">\r\n\t\t\t\t\t<el-button v-if=\"!isSubmit\" type=\"primary\" @click=\"isSubmit=true\">查看解析</el-button>\r\n\t\t\t\t\t<el-button type=\"success\" @click=\"doneExam(1)\">结束测试</el-button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</el-card>\r\n\t\t<el-card style=\"width: 90%;margin: 10px auto;\" v-if=\"!end||isSubmit\">\r\n\t\t\t<div class=\"question-content\" v-for=\"(item, index) in questionList\" :key=\"item.id\">\r\n\t\t\t\t<div class=\"question-title\">\r\n\t\t\t\t\t{{index + 1}} 、{{item.type==4?`(${item.score}分)`:''}}：<span class=\"ql-snow ql-editor\" v-html=\"item.questionname\"></span>\r\n\t\t\t\t\t<el-tag type=\"success\" v-if=\"item.type==0\">{{questionType(item)}}</el-tag>\r\n\t\t\t\t\t<el-tag type=\"danger\" v-if=\"item.type==4\">{{questionType(item)}}</el-tag>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"question-answer\">\r\n\t\t\t\t\t<div v-if=\"!isSubmit && !end\">\r\n\t\t\t\t\t\t作答：\r\n\t\t\t\t\t\t<el-select v-model=\"item.myanswer\" placeholder=\"请选择您的答案\"\r\n\t\t\t\t\t\t\tv-if=\"item.type == 0 \">\r\n\t\t\t\t\t\t\t<el-option v-for=\"(option, idx) in JSON.parse(item.options)\" :key=\"idx\" :label=\"option.text\"\r\n\t\t\t\t\t\t\t\t:value=\"option.code\">\r\n\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t<el-input style=\"width: 400px;\" v-if=\"item.type == 4\" v-model=\"item.myanswer\" type=\"textarea\"\r\n\t\t\t\t\t\t\tplaceholder=\"请输入答案\"></el-input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div v-if=\"isSubmit\">\r\n\t\t\t\t\t\t<div class=\"question-title\">填写答案：\r\n\t\t\t\t\t\t\t{{item.myanswer}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"question-title\">\r\n\t\t\t\t\t\t\t解析：{{item.answer?(item.answer + ','):''}} {{item.analysis}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"question-btn\">\r\n\t\t\t\t<el-button v-if=\"!isSubmit && !end\" type=\"primary\" @click=\"submitAnswer\">提交答案</el-button>\r\n\t\t\t</div>\r\n\t\t</el-card>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n    //数据集合\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tquestionList: [],\r\n\t\t\t\tisSubmit: false,\r\n\t\t\t\tend: false,\r\n\t\t\t\tmaxtime: 0,\r\n\t\t\t\ttimer: null,\r\n\t\t\t\thour: '',\r\n\t\t\t\tminute: '',\r\n\t\t\t\tsecond: '',\r\n\t\t\t\tuser: {},\r\n\t\t\t\thassubject:false,\r\n\t\t\t\tpaper:{},\r\n\t\t\t\tdetermineForm: {},\r\n\t\t\t\tdetermineList: [],\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.$http.get(`exampaper/info/${this.$route.query.id}`, {}).then(res => {\r\n\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\tthis.paper = res.data.data\r\n\t\t\t\t\tthis.maxtime = this.paper.time * 60;\r\n\t\t\t\t\tthis.deleteRecords(this.paper.id);\r\n\t\t\t\t\tthis.getQuestion(this.paper.id);\r\n\t\t\t\t\tthis.hour = Math.floor(this.maxtime / 60 / 60);\r\n\t\t\t\t\tthis.minute = Math.floor(this.maxtime / 60 % 60);\r\n\t\t\t\t\tthis.second = Math.floor(this.maxtime % 60);\r\n\t\t\t\t\tthis.timer = setInterval(this.countDown, 1000);\r\n\t\t\t\t\tthis.$http.get('scoredetermination/list',{params: {paperid: this.paper.id,page: 1,limit : 100,sort: 'score',order:'desc'}}).then(rs=>{\r\n\t\t\t\t\t\tthis.determineList = rs.data.data.list\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tthis.$http.get(localStorage.getItem('UserTableName') + '/session', {\r\n\t\t\t\temulateJSON: true\r\n\t\t\t}).then(res => {\r\n\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\tthis.user = res.data.data;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t//方法集合\r\n\t\tmethods: {\r\n\t\t\tquestionType(item) {\r\n\t\t\t\tswitch (item.type) {\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\treturn '客观题';\r\n\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\treturn '主观题';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeleteRecords(paperid) {\r\n\t\t\t\tthis.$http.post(`examrecord/deleteRecords?userid=${localStorage.getItem('frontUserid')}&paperid=${paperid}`).then(res => {});\r\n\t\t\t},\r\n\t\t\tgetQuestion(paperid) {\r\n\t\t\t\tthis.$http.get('examquestion/list', {params: {page: 1, limit: 1000, paperid}}).then(res => {\r\n\t\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\t\tfor(let x in res.data.data.list){\r\n\t\t\t\t\t\t\tres.data.data.list[x].questionname = res.data.data.list[x].questionname.replace(/img src/gi,\"img style=\\\"width:100%;\\\" src\");\r\n\t\t\t\t\t\t\tif(res.data.data.list[x].type==4){\r\n\t\t\t\t\t\t\t\tthis.hassubject = true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tres.data.data.list.sort(function (a, b) {\r\n\t\t\t\t\t\t\treturn (b.sequence - a.sequence)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.questionList = res.data.data.list;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsubmitAnswer() {\r\n\t\t\t\tfor(let i in this.questionList){\r\n\t\t\t\t\tif(this.questionList[i].type==1){\r\n\t\t\t\t\t\tif(!this.questionList[i].myanswer||(this.questionList[i].myanswer&&this.questionList[i].myanswer.length==0)){\r\n\t\t\t\t\t\t\tthis.$message.error('还有试题未完成作答')\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(!this.questionList[i].myanswer||(this.questionList[i].myanswer&&this.questionList[i].myanswer=='')){\r\n\t\t\t\t\t\t\tthis.$message.error('还有试题未完成作答')\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.$confirm(`是否完成作答，提交心理测评？`, \"提示\", {\r\n\t\t\t\t\tconfirmButtonText: \"确定\",\r\n\t\t\t\t\tcancelButtonText: \"取消\",\r\n\t\t\t\t\ttype: \"warning\"\r\n\t\t\t\t}).then(()=>{\r\n\t\t\t\t\tfor (let x in this.questionList) {\r\n\t\t\t\t\t\tif (this.questionList[x].type != 4) {\r\n\t\t\t\t\t\t\tthis.questionList[x].optionList = JSON.parse(this.questionList[x].options)\r\n\t\t\t\t\t\t\tfor(let i in this.questionList[x].optionList){\r\n\t\t\t\t\t\t\t\tif(this.questionList[x].myanswer == this.questionList[x].optionList[i].code){\r\n\t\t\t\t\t\t\t\t\tthis.questionList[x].myscore = this.questionList[x].optionList[i].score\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.questionList[x].myscore = 0\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.saverecord(this.questionList[x])\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.end = true;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tscoreChange() {\r\n\t\t\t\tlet score = 0\r\n\t\t\t\tfor (let x in this.questionList) {\r\n\t\t\t\t\tif (this.questionList[x].myscore) {\r\n\t\t\t\t\t\tscore += Number(this.questionList[x].myscore) || 0\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfor(let i in this.determineList){\r\n\t\t\t\t\tif(score >= this.determineList[i].score){\r\n\t\t\t\t\t\tthis.determineForm = this.determineList[i]\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn score\r\n\t\t\t},\r\n\t\t\tsaverecord(row) {\r\n\t\t\t\tlet record = {\r\n\t\t\t\t\tuserid: this.user.id,\r\n\t\t\t\t\tusername: this.user.yonghuxingming,\r\n\t\t\t\t\tpaperid: this.paper.id,\r\n\t\t\t\t\tpapername: this.paper.name,\r\n\t\t\t\t\tquestionid: row.id,\r\n\t\t\t\t\tquestionname: row.questionname,\r\n\t\t\t\t\toptions: row.options,\r\n\t\t\t\t\tscore: row.score,\r\n\t\t\t\t\tanalysis: row.analysis,\r\n\t\t\t\t\tmyscore: row.myscore,\r\n\t\t\t\t\tmyanswer: row.myanswer,\r\n\t\t\t\t\ttype: row.type,\r\n\t\t\t\t\tismark: this.hassubject ? 0 : 1\r\n\t\t\t\t}\r\n\t\t\t\tthis.$http.post('examrecord/add', record).then(res => {})\r\n\t\t\t},\r\n\t\t\tdoneExam(type) {\r\n\t\t\t\tif (type == 0) {\r\n\t\t\t\t\tthis.$confirm('确定离开测试?未答题目按0分计', '提示', {\r\n\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t}).then(() => {\r\n\t\t\t\t\t\tthis.end = true;\r\n\t\t\t\t\t\tif (this.questionList.length == 0) {\r\n\t\t\t\t\t\t\tthis.$router.push('/index/examPaper');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$router.push('/index/examPaper');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcountDown() {\r\n\t\t\t\tif (this.maxtime > 0) {\r\n\t\t\t\t\tthis.hour = Math.floor((this.maxtime - 1) / 60 / 60);\r\n\t\t\t\t\tthis.minute = Math.floor((this.maxtime - 1) / 60 % 60);\r\n\t\t\t\t\tthis.second = Math.floor((this.maxtime - 1) % 60);\r\n\t\t\t\t\t--this.maxtime;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tclearInterval(this.timer);\r\n\t\t\t\t\tthis.end = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n\t.top-content {\r\n\t\theight: 80px;\r\n\t\twidth: 100%;\r\n\t\tbackground-color: #409EFF;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\t.top-content-left, .top-content-center, .top-content-right {\r\n\t\tfont-size: 18px;\r\n\t\tline-height: 80px;\r\n\t\tcolor: #fff;\r\n\t}\r\n\t.top-content-left {\r\n\t\tpadding-left: 20px;\r\n\t}\r\n\t.top-content-right {\r\n\t\tpadding-right: 20px;\r\n\t}\r\n\t.question-content {\r\n\t\twidth: 90%;\r\n\t\tmargin: 0 auto;\r\n\t\tmargin-top: 30px;\r\n\t\tborder-bottom: 1px solid #eee;\r\n\t}\r\n\t.question-content:last-of-type {\r\n\t\tborder: none;\r\n\t}\r\n\t.question-title, .question-answer, .question-btn {\r\n\t\tpadding: 20px 0;\r\n\t}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}