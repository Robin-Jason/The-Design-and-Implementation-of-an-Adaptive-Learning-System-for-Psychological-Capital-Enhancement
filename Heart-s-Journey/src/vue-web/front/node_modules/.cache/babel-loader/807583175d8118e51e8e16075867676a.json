{"remainingRequest":"/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/node_modules/thread-loader/dist/cjs.js!/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/node_modules/babel-loader/lib/index.js!/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/src/pages/forum/add.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/src/pages/forum/add.vue","mtime":1746233868094},{"path":"/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/babel.config.js","mtime":1746233865816},{"path":"/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/node_modules/cache-loader/dist/cjs.js","mtime":1746233866418},{"path":"/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/node_modules/thread-loader/dist/cjs.js","mtime":1746233867898},{"path":"/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/node_modules/babel-loader/lib/index.js","mtime":1746233866292},{"path":"/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/node_modules/cache-loader/dist/cjs.js","mtime":1746233866418},{"path":"/Users/robin/Desktop/Heart-s-Journey/src/vue-web/front/node_modules/vue-loader/lib/index.js","mtime":1746233867967}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICAvL+aVsOaNrumbhuWQiAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGlzZG9uZTogJ+W8gOaUvicsCiAgICAgICAgY29udGVudDogJycsCiAgICAgICAgcGFyZW50aWQ6IDAsCiAgICAgICAgdXNlcmlkOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZnJvbnRVc2VyaWQnKSwKICAgICAgICB1c2VybmFtZTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJuYW1lJyksCiAgICAgICAgdG9wdGltZTogJycsCiAgICAgICAgY292ZXI6ICcnLAogICAgICAgIGlzYW5vbjogMAogICAgICB9LAogICAgICBlZGl0b3JPcHRpb246IHsKICAgICAgICBtb2R1bGVzOiB7CiAgICAgICAgICB0b29sYmFyOiBbWyJib2xkIiwgIml0YWxpYyIsICJ1bmRlcmxpbmUiLCAic3RyaWtlIl0sIFsiYmxvY2txdW90ZSIsICJjb2RlLWJsb2NrIl0sIFt7CiAgICAgICAgICAgIGhlYWRlcjogMQogICAgICAgICAgfSwgewogICAgICAgICAgICBoZWFkZXI6IDIKICAgICAgICAgIH1dLCBbewogICAgICAgICAgICBsaXN0OiAib3JkZXJlZCIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgbGlzdDogImJ1bGxldCIKICAgICAgICAgIH1dLCBbewogICAgICAgICAgICBzY3JpcHQ6ICJzdWIiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHNjcmlwdDogInN1cGVyIgogICAgICAgICAgfV0sIFt7CiAgICAgICAgICAgIGluZGVudDogIi0xIgogICAgICAgICAgfSwgewogICAgICAgICAgICBpbmRlbnQ6ICIrMSIKICAgICAgICAgIH1dLCBbewogICAgICAgICAgICBkaXJlY3Rpb246ICJydGwiCiAgICAgICAgICB9XSwgW3sKICAgICAgICAgICAgc2l6ZTogWyJzbWFsbCIsIGZhbHNlLCAibGFyZ2UiLCAiaHVnZSJdCiAgICAgICAgICB9XSwgW3sKICAgICAgICAgICAgaGVhZGVyOiBbMSwgMiwgMywgNCwgNSwgNiwgZmFsc2VdCiAgICAgICAgICB9XSwgW3sKICAgICAgICAgICAgY29sb3I6IFtdCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IFtdCiAgICAgICAgICB9XSwgW3sKICAgICAgICAgICAgZm9udDogW10KICAgICAgICAgIH1dLCBbewogICAgICAgICAgICBhbGlnbjogW10KICAgICAgICAgIH1dLCBbImNsZWFuIl0sIFsiaW1hZ2UiLCAidmlkZW8iXV0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGlzRWRpdDogZmFsc2UsCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdGl0bGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmoIfpopgnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgdHlwZW5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nliIbnsbsnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgY2F0ZWdvcnlMaXN0OiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldENhdGVnb3J5TGlzdCgpOwogICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LmlkICE9IHVuZGVmaW5lZCkgewogICAgICB0aGlzLmlzRWRpdCA9IHRydWU7CiAgICAgIHRoaXMuJGh0dHAuZ2V0KCdmb3J1bS9kZXRhaWwvJyArIHRoaXMuJHJvdXRlLnF1ZXJ5LmlkLCB7fSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsKICAgICAgICAgIHRoaXMuZm9ybSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIC8v5pa55rOV6ZuG5ZCICiAgbWV0aG9kczogewogICAgZ2V0Q2F0ZWdvcnlMaXN0KCkgewogICAgICB0aGlzLiRodHRwLmdldCgnZm9ydW10eXBlL2xpc3QnLCB7fSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsKICAgICAgICAgIHRoaXMuY2F0ZWdvcnlMaXN0ID0gcmVzLmRhdGEuZGF0YS5saXN0OwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g6L+U5Zue5oyJ6ZKuCiAgICBiYWNrQ2xpY2soKSB7CiAgICAgIGhpc3RvcnkuYmFjaygpOwogICAgfSwKICAgIG9uRWRpdG9yUmVhZHkoZWRpdG9yKSB7CiAgICAgIGVkaXRvci5yb290LnNldEF0dHJpYnV0ZSgnZGF0YS1wbGFjZWhvbGRlcicsICLor7fovpPlhaXlhoXlrrkuLi4iKTsKICAgIH0sCiAgICBjb3ZlclVwbG9hZENoYW5nZShmaWxlVXJscykgewogICAgICB0aGlzLmZvcm0uY292ZXIgPSBmaWxlVXJscy5yZXBsYWNlKG5ldyBSZWdFeHAodGhpcy4kY29uZmlnLmJhc2VVcmwsICJnIiksICIiKTsKICAgIH0sCiAgICBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmICghdGhpcy5pc0VkaXQpIHsKICAgICAgICAgICAgdGhpcy5mb3JtLnRvcHRpbWUgPSB0aGlzLmdldEN1ckRhdGVUaW1lKCk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodGhpcy5mb3JtLmNvdmVyID09ICcnKSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+S4iuS8oOWwgemdouWbvicpOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLiRodHRwLnBvc3QoYGZvcnVtLyR7dGhpcy5pc0VkaXQgPyAndXBkYXRlJyA6ICdhZGQnfWAsIHRoaXMuZm9ybSkudGhlbihyZXMgPT4gewogICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgbWVzc2FnZTogYCR7dGhpcy5pc0VkaXQgPyAn5L+u5pS5JyA6ICflj5HluIMnfeaIkOWKn2AsCiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTUwMCwKICAgICAgICAgICAgICAgIG9uQ2xvc2U6ICgpID0+IHsKICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNFZGl0KSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9pbmRleC9teUZvcnVtTGlzdCcpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvaW5kZXgvZm9ydW0nKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEubXNnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlc2V0Rm9ybShmb3JtTmFtZSkgewogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS5yZXNldEZpZWxkcygpOwogICAgfQogIH0KfTs="},{"version":3,"names":["data","form","title","isdone","content","parentid","userid","localStorage","getItem","username","toptime","cover","isanon","editorOption","modules","toolbar","header","list","script","indent","direction","size","color","background","font","align","isEdit","rules","required","message","trigger","typename","categoryList","created","getCategoryList","$route","query","id","undefined","$http","get","then","res","code","methods","backClick","history","back","onEditorReady","editor","root","setAttribute","coverUploadChange","fileUrls","replace","RegExp","$config","baseUrl","submitForm","formName","$refs","validate","valid","getCurDateTime","$message","error","post","type","duration","onClose","$router","push","msg","resetForm","resetFields"],"sources":["src/pages/forum/add.vue"],"sourcesContent":["<template>\r\n\t<div :style='{\"width\":\"100%\",\"padding\":\"20px 16%\",\"margin\":\"20px auto\",\"position\":\"relative\",\"background\":\"none\"}'>\r\n\t\t<div class=\"section-title\" :style='{\"margin\":\"10px 0\",\"color\":\"#fff\",\"textAlign\":\"center\",\"background\":\"url(http://codegen.caihongy.cn/20241127/0acd634bb5d34165a420a799b58e4f17.png) 100% 100%/cover no-repeat\",\"fontSize\":\"24px\",\"lineHeight\":\"100px\",\"fontWeight\":\"bold\",\"height\":\"80px\"}'>互动社区</div>\r\n\t\t<div class=\"back_box\">\r\n\t\t\t<el-button class=\"backBtn\" size=\"mini\" @click=\"backClick\">\r\n\t\t\t\t<span class=\"icon iconfont icon-jiantou33\"></span>\r\n\t\t\t\t<span class=\"text\">返回</span>\r\n\t\t\t</el-button>\r\n\t\t</div>\r\n\t\t<el-form class=\"add-update-preview\" :model=\"form\" :rules=\"rules\" ref=\"form\" label-width=\"100px\">\r\n\t\t\t<el-form-item :style='{\"width\":\"48%\",\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"none\",\"display\":\"inline-block\"}' label=\"标题\" prop=\"title\">\r\n\t\t\t\t<el-input v-model=\"form.title\" placeholder=\"请输入标题\"></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"width\":\"48%\",\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"none\",\"display\":\"inline-block\"}' label=\"分类\" prop=\"typename\">\r\n\t\t\t\t<el-select v-model=\"form.typename\" placeholder=\"请选择分类\">\r\n\t\t\t\t\t<el-option\r\n\t\t\t\t\t\tv-for=\"(item,index) in categoryList\"\r\n\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t:label=\"item.typename\"\r\n\t\t\t\t\t\t:value=\"item.typename\">\r\n\t\t\t\t\t</el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"width\":\"48%\",\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"none\",\"display\":\"inline-block\"}' label=\"封面图\" prop=\"cover\">\r\n\t\t\t\t<file-upload\r\n\t\t\t\t\ttip=\"点击上传封面图\"\r\n\t\t\t\t\taction=\"file/upload\"\r\n\t\t\t\t\t:limit=\"3\"\r\n\t\t\t\t\t:multiple=\"true\"\r\n\t\t\t\t\t:fileUrls=\"form.cover?form.cover:''\"\r\n\t\t\t\t\t@change=\"coverUploadChange\"\r\n\t\t\t\t\t></file-upload>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"width\":\"48%\",\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"none\",\"display\":\"inline-block\"}' label=\"类型\" prop=\"isdone\">\r\n\t\t\t\t<el-radio-group v-model=\"form.isdone\">\r\n\t\t\t\t\t<el-radio label=\"开放\">公开</el-radio>\r\n\t\t\t\t\t<el-radio label=\"关闭\">私人</el-radio>\r\n\t\t\t\t</el-radio-group>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"width\":\"48%\",\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"none\",\"display\":\"inline-block\"}' label=\"是否匿名\" prop=\"isanon\">\r\n\t\t\t\t<el-radio-group v-model=\"form.isanon\">\r\n\t\t\t\t\t<el-radio :label=\"1\">是</el-radio>\r\n\t\t\t\t\t<el-radio :label=\"0\">否</el-radio>\r\n\t\t\t\t</el-radio-group>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"width\":\"48%\",\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"none\",\"display\":\"inline-block\"}' label=\"内容\" prop=\"content\">\r\n\t\t\t\t<editor\r\n\t\t\t\t\t:style='{\"border\":\"0\",\"boxShadow\":\"0 0 0px rgba(64, 158, 255, .5)\",\"outline\":\"none\",\"color\":\"#333\",\"borderRadius\":\"4px\",\"width\":\"100%\",\"lineHeight\":\"32px\",\"fontSize\":\"14px\"}'\r\n\t\t\t\t\tv-model=\"form.content\" \r\n\t\t\t\t\tclass=\"editor\" \r\n\t\t\t\t\taction=\"file/upload\">\r\n\t\t\t\t</editor>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"padding\":\"20px 0\",\"margin\":\"0\"}'>\r\n\t\t\t\t<el-button :style='{\"border\":\"0\",\"cursor\":\"pointer\",\"padding\":\"0 35px\",\"margin\":\"0 20px 0 0\",\"outline\":\"none\",\"borderRadius\":\"4px\",\"background\":\"#157ED2\",\"display\":\"inline-block\",\"width\":\"auto\",\"lineHeight\":\"30px\",\"fontSize\":\"14px\",\"height\":\"30px\"}' type=\"primary\" @click=\"submitForm('form')\">\r\n\t\t\t\t\t<span class=\"icon iconfont icon-kaitongfuwu\" :style='{\"color\":\"rgba(255, 255, 255, 1)\",\"display\":\"none\"}'></span>\r\n\t\t\t\t\t<span class=\"text\" :style='{\"color\":\"rgba(255, 255, 255, 1)\"}'>{{this.isEdit ? '修改' : '发布帖子'}}</span>\r\n\t\t\t\t</el-button>\r\n\t\t\t\t<el-button :style='{\"border\":\"0px solid rgba(64, 158, 255, 1)\",\"cursor\":\"pointer\",\"padding\":\"0 35px\",\"margin\":\"0 20px 0 0\",\"outline\":\"none\",\"borderRadius\":\"4px\",\"background\":\"#858585\",\"display\":\"inline-block\",\"width\":\"auto\",\"lineHeight\":\"30px\",\"fontSize\":\"14px\",\"height\":\"30px\"}' @click=\"resetForm('form')\">\r\n\t\t\t\t\t<span class=\"icon iconfont icon-shanchu1\" :style='{\"color\":\"#fff\",\"display\":\"none\"}'></span>\r\n\t\t\t\t\t<span class=\"text\" :style='{\"color\":\"#fff\"}'>重置</span>\r\n\t\t\t\t</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\t//数据集合\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tform: {\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\tisdone: '开放',\r\n\t\t\t\t\tcontent: '',\r\n\t\t\t\t\tparentid: 0,\r\n\t\t\t\t\tuserid: localStorage.getItem('frontUserid'),\r\n\t\t\t\t\tusername: localStorage.getItem('username'),\r\n\t\t\t\t\ttoptime: '',\r\n\t\t\t\t\tcover: '',\r\n\t\t\t\t\tisanon: 0\r\n\t\t\t\t},\r\n\t\t\t\teditorOption: {\r\n\t\t\t\t\tmodules: {\r\n\t\t\t\t\t\ttoolbar: [\r\n\t\t\t\t\t\t\t[\"bold\", \"italic\", \"underline\", \"strike\"],\r\n\t\t\t\t\t\t\t[\"blockquote\", \"code-block\"],\r\n\t\t\t\t\t\t\t[{ header: 1 }, { header: 2 }],\r\n\t\t\t\t\t\t\t[{ list: \"ordered\" }, { list: \"bullet\" }],\r\n\t\t\t\t\t\t\t[{ script: \"sub\" }, { script: \"super\" }],\r\n\t\t\t\t\t\t\t[{ indent: \"-1\" }, { indent: \"+1\" }],\r\n\t\t\t\t\t\t\t[{ direction: \"rtl\" }],\r\n\t\t\t\t\t\t\t[{ size: [\"small\", false, \"large\", \"huge\"] }],\r\n\t\t\t\t\t\t\t[{ header: [1, 2, 3, 4, 5, 6, false] }],\r\n\t\t\t\t\t\t\t[{ color: [] }, { background: [] }],\r\n\t\t\t\t\t\t\t[{ font: [] }],\r\n\t\t\t\t\t\t\t[{ align: [] }],\r\n\t\t\t\t\t\t\t[\"clean\"],\r\n\t\t\t\t\t\t\t[\"image\", \"video\"]\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tisEdit: false,\r\n\t\t\t\trules: {\r\n\t\t\t\t\ttitle: [\r\n\t\t\t\t\t\t{ required: true, message: '请输入标题', trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttypename: [\r\n\t\t\t\t\t\t{ required: true, message: '请选择分类', trigger: 'blur' }\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\tcategoryList: [],\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getCategoryList()\r\n\t\t\tif (this.$route.query.id != undefined) {\r\n\t\t\t\tthis.isEdit = true;\r\n\t\t\t\tthis.$http.get('forum/detail/' + this.$route.query.id,{}).then(res=>{\r\n\t\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t\tthis.form = res.data.data\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t//方法集合\r\n\t\tmethods: {\r\n\t\t\tgetCategoryList(){\r\n\t\t\t\tthis.$http.get('forumtype/list', {}).then(res => {\r\n\t\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\t\tthis.categoryList = res.data.data.list\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 返回按钮\r\n\t\t\tbackClick(){\r\n\t\t\t\thistory.back()\r\n\t\t\t},\r\n\t\t\tonEditorReady(editor) {\r\n\t\t\t\teditor.root.setAttribute('data-placeholder', \"请输入内容...\");\r\n\t\t\t},\r\n\t\t\tcoverUploadChange(fileUrls) {\r\n\t\t\t\tthis.form.cover = fileUrls.replace(new RegExp(this.$config.baseUrl,\"g\"),\"\");\r\n\t\t\t},\r\n\t\t\tsubmitForm(formName) {\r\n\t\t\t\tthis.$refs[formName].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tif(!this.isEdit){\r\n\t\t\t\t\t\t\tthis.form.toptime = this.getCurDateTime()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(this.form.cover==''){\r\n\t\t\t\t\t\t\tthis.$message.error('请上传封面图')\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.$http.post(`forum/${this.isEdit ? 'update' : 'add'}`, this.form).then(res => {\r\n\t\t\t\t\t\t\tif (res.data.code === 0) {\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\tmessage: `${this.isEdit ? '修改' : '发布'}成功`,\r\n\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\t\t\t\t\tonClose: () => {\r\n\t\t\t\t\t\t\t\t\t\tif (this.isEdit) {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$router.push('/index/myForumList');\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$router.push('/index/forum');\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$message.error(res.data.msg);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tresetForm(formName) {\r\n\t\t\t\tthis.$refs[formName].resetFields();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n\t.add-update-preview .el-form-item /deep/ .el-form-item__label {\r\n\t\tpadding: 0 5px 0 0;\r\n\t\tcolor: #000;\r\n\t\tfont-weight: 500;\r\n\t\twidth: 100px;\r\n\t\tfont-size: 13px;\r\n\t\tline-height: 40px;\r\n\t\ttext-align: left;\r\n\t}\r\n\t.add-update-preview .el-form-item /deep/ .el-form-item__content {\r\n\t\tmargin-left: 100px;\r\n\t}\r\n\t.add-update-preview .el-input /deep/ .el-input__inner {\r\n\t\tborder: 1px solid #E2E3E5;\r\n\t\tborder-radius: 10px;\r\n\t\tpadding: 0 12px;\r\n\t\tbox-shadow: 0 0 0px rgba(64, 158, 255, .5);\r\n\t\toutline: none;\r\n\t\tcolor: #000;\r\n\t\twidth: 100%;\r\n\t\tfont-size: 14px;\r\n\t\theight: 40px;\r\n\t}\r\n\t.add-update-preview .el-select /deep/ .el-input__inner {\r\n\t\tborder: 1px solid #E2E3E5;\r\n\t\tborder-radius: 10px;\r\n\t\tpadding: 0 10px;\r\n\t\tbox-shadow: 0 0 0px rgba(64, 158, 255, .5);\r\n\t\toutline: none;\r\n\t\tcolor: #000;\r\n\t\twidth: 100%;\r\n\t\tfont-size: 14px;\r\n\t\theight: 40px;\r\n\t}\r\n  \r\n\t.add-update-preview .el-date-editor /deep/ .el-input__inner {\r\n\t\tborder: 1px solid #E2E3E5;\r\n\t\tborder-radius: 10px;\r\n\t\tpadding: 0 10px 0 30px;\r\n\t\tbox-shadow: 0 0 0px rgba(64, 158, 255, .5);\r\n\t\toutline: none;\r\n\t\tcolor: #000;\r\n\t\twidth: 100%;\r\n\t\tfont-size: 14px;\r\n\t\theight: 40px;\r\n\t}\r\n  \r\n\t.add-update-preview /deep/ .el-upload--picture-card {\r\n\t\tbackground: transparent;\r\n\t\tborder: 0;\r\n\t\tborder-radius: 0;\r\n\t\twidth: auto;\r\n\t\theight: auto;\r\n\t\tline-height: initial;\r\n\t\tvertical-align: middle;\r\n\t}\r\n  \r\n\t.add-update-preview /deep/ .upload .upload-img {\r\n\t\tborder: 1px dashed #aaa;\r\n\t\tcursor: pointer;\r\n\t\tborder-radius: 10px;\r\n\t\tcolor: #aaa;\r\n\t\tobject-fit: cover;\r\n\t\twidth: 100px;\r\n\t\tfont-size: 32px;\r\n\t\tline-height: 100px;\r\n\t\ttext-align: center;\r\n\t\theight: 100px;\r\n\t}\r\n  \r\n\t.add-update-preview /deep/ .el-upload-list .el-upload-list__item {\r\n\t\tborder: 1px dashed #aaa;\r\n\t\tcursor: pointer;\r\n\t\tborder-radius: 10px;\r\n\t\tcolor: #aaa;\r\n\t\tobject-fit: cover;\r\n\t\twidth: 100px;\r\n\t\tfont-size: 32px;\r\n\t\tline-height: 100px;\r\n\t\ttext-align: center;\r\n\t\theight: 100px;\r\n\t}\r\n  \r\n\t.add-update-preview /deep/ .el-upload .el-icon-plus {\r\n\t\tborder: 1px dashed #aaa;\r\n\t\tcursor: pointer;\r\n\t\tborder-radius: 10px;\r\n\t\tcolor: #aaa;\r\n\t\tobject-fit: cover;\r\n\t\twidth: 100px;\r\n\t\tfont-size: 32px;\r\n\t\tline-height: 100px;\r\n\t\ttext-align: center;\r\n\t\theight: 100px;\r\n\t}\r\n\t.add-update-preview /deep/ .el-upload__tip {\r\n\t\tcolor: #999;\r\n\t}\r\n  \r\n\t.add-update-preview .el-textarea /deep/ .el-textarea__inner {\r\n\t\tborder: 1px solid #E2E3E5;\r\n\t\tborder-radius: 10px;\r\n\t\tpadding: 12px;\r\n\t\tbox-shadow: 0 0 0px rgba(64, 158, 255, .5);\r\n\t\toutline: none;\r\n\t\tcolor: #000;\r\n\t\twidth: 100%;\r\n\t\tfont-size: 14px;\r\n\t\theight: 120px;\r\n\t}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}